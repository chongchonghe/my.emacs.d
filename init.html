<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2020-08-20 Thu 11:37 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>ChongChong's Emacs configuration file</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="Chong-Chong He" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="https://fniessen.github.io/org-html-themes/styles/readtheorg/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="https://fniessen.github.io/org-html-themes/styles/readtheorg/css/readtheorg.css"/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/styles/lib/js/jquery.stickytableheaders.min.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/styles/readtheorg/js/readtheorg.js"></script>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2020 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">ChongChong's Emacs configuration file</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org4b7a59b">1. About</a>
<ul>
<li><a href="#org83e85da">1.1. How to use this file</a></li>
</ul>
</li>
<li><a href="#org75798b1">2. TODO</a></li>
<li><a href="#org1d656b3">3. Meta</a></li>
<li><a href="#org194f80f">4. Packages</a></li>
<li><a href="#orgcaa36f5">5. General config</a></li>
<li><a href="#orgaff52c9">6. mu4e</a>
<ul>
<li><a href="#orga707313">6.1. Main</a></li>
<li><a href="#org71c85f8">6.2. Composing</a></li>
<li><a href="#org225807c">6.3. Sending email</a>
<ul>
<li><a href="#org32f3c05">6.3.1. Single account</a></li>
<li><a href="#orgbc59c8f">6.3.2. Multiple accounts</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org99a9513">7. evil</a></li>
<li><a href="#org8277535">8. Langtool</a></li>
<li><a href="#org4792fa2">9. Other configs</a></li>
<li><a href="#org75899bb">10. Latex</a></li>
<li><a href="#org2812301">11. Neotree</a></li>
<li><a href="#orgc3ce10b">12. Org</a>
<ul>
<li><a href="#org3d84c0f">12.1. Main</a></li>
<li><a href="#orgdd99b9a">12.2. Org todo and agenda</a>
<ul>
<li><a href="#orgdb36df3">12.2.1. Basics:</a></li>
<li><a href="#orgaa10e46">12.2.2. Org capture</a></li>
<li><a href="#org994372e">12.2.3. Todo and Priority</a></li>
<li><a href="#org94828c6">12.2.4. Refile</a></li>
</ul>
</li>
<li><a href="#orgc532cfe">12.3. org-ref</a></li>
<li><a href="#orgd8991d5">12.4. org export</a>
<ul>
<li><a href="#org179f200">12.4.1. Embed movie</a></li>
</ul>
</li>
<li><a href="#orgea67cb9">12.5. Others</a></li>
<li><a href="#org927964f">12.6. Publishing</a></li>
</ul>
</li>
<li><a href="#org6470323">13. PDF-tool</a></li>
<li><a href="#org4780d8c">14. Shell</a>
<ul>
<li><a href="#org5563625">14.1. ansi-term</a></li>
</ul>
</li>
<li><a href="#org05cfa96">15. Helm</a></li>
<li><a href="#orgbad286c">16. Theme</a></li>
</ul>
</div>
</div>

<div id="outline-container-org4b7a59b" class="outline-2">
<h2 id="org4b7a59b"><span class="section-number-2">1</span> About</h2>
<div class="outline-text-2" id="text-1">
<p>
This is my Emacs configuration file written in Org mode. It is an
attempt to keep my <code>~/.emacs.d/init.el</code> file organized and readable,
as Emacs configuration could be a life-long practice.
</p>

<p>
The general structure of this org-file is learned from <a href="https://github.com/larstvei/dot-emacs/blob/master/init.org">this github
repository</a>.
</p>
</div>

<div id="outline-container-org83e85da" class="outline-3">
<h3 id="org83e85da"><span class="section-number-3">1.1</span> How to use this file</h3>
<div class="outline-text-3" id="text-1-1">
<ul class="org-ul">
<li>Everything inside <code>#+BEGIN_SRC emacs-lisp</code> and <code>#+END_SRC</code> will be
exported to init.el, the init file of Emacs, after executing <code>C-c
  C-v t</code>.</li>
<li>Editing tips:
<ul class="org-ul">
<li>Use <code>C-c '</code> to edit a code block in an individual buffer in an
individual buffer.</li>
</ul></li>
</ul>
</div>
</div>
</div>


<div id="outline-container-org75798b1" class="outline-2">
<h2 id="org75798b1"><span class="section-number-2">2</span> TODO</h2>
<div class="outline-text-2" id="text-2">
<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> make <code>custom-set-variables</code> not being overwritten by tangle</li>
</ul>
</div>
</div>


<div id="outline-container-org1d656b3" class="outline-2">
<h2 id="org1d656b3"><span class="section-number-2">3</span> Meta</h2>
<div class="outline-text-2" id="text-3">
<p>
When this configuration is loaded for the first time, the init.el is
the file that is loaded. It should look like this:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">This file replaces itself with the actual configuration at first run.</span>

<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">We can't tangle without org!</span>
<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">require</span> '<span style="color: #a45bad;">org</span><span style="color: #4f97d7;">)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">Open the configuration</span>
<span style="color: #4f97d7;">(</span>find-file <span style="color: #bc6ec5;">(</span>concat user-emacs-directory <span style="color: #2d9574;">"init.org"</span><span style="color: #bc6ec5;">)</span><span style="color: #4f97d7;">)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">tangle it</span>
<span style="color: #4f97d7;">(</span>org-babel-tangle<span style="color: #4f97d7;">)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">load it</span>
<span style="color: #4f97d7;">(</span>load-file <span style="color: #bc6ec5;">(</span>concat user-emacs-directory <span style="color: #2d9574;">"init.el"</span><span style="color: #bc6ec5;">)</span><span style="color: #4f97d7;">)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">finally byte-compile it</span>
<span style="color: #4f97d7;">(</span>byte-compile-file <span style="color: #bc6ec5;">(</span>concat user-emacs-directory <span style="color: #2d9574;">"init.el"</span><span style="color: #bc6ec5;">)</span><span style="color: #4f97d7;">)</span>
</pre>
</div>

<p>
It tangles the org-file, so that this file is overwritten with the
actual configuration. Afterwards, this is not needed, because we can
use <code>C-c C-v t</code> to run <code>org-babel-tangle</code>, which does the same job.
</p>

<p>
Alternatively, we can add the following configuration to execute
<code>org-babel-tangle</code> after changes. I prefer to not enable this and do
it manually.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">-*- mode: emacs-lisp -*-</span>

<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">defun</span> <span style="color: #bc6ec5; font-weight: bold;">tangle-init</span> <span style="color: #bc6ec5;">()</span>
  <span style="color: #2aa1ae;">"If the current buffer is 'init.org' the code-blocks are</span>
<span style="color: #2aa1ae;">tangled, and the tangled file is compiled."</span>
  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">when</span> <span style="color: #2d9574;">(</span>equal <span style="color: #67b11d;">(</span>buffer-file-name<span style="color: #67b11d;">)</span>
               <span style="color: #67b11d;">(</span>expand-file-name <span style="color: #b1951d;">(</span>concat user-emacs-directory <span style="color: #2d9574;">"init.org"</span><span style="color: #b1951d;">)</span><span style="color: #67b11d;">)</span><span style="color: #2d9574;">)</span>
    <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">Avoid running hooks when tangling.</span>
    <span style="color: #2d9574;">(</span><span style="color: #4f97d7; font-weight: bold;">let</span> <span style="color: #67b11d;">(</span><span style="color: #b1951d;">(</span>prog-mode-hook nil<span style="color: #b1951d;">)</span><span style="color: #67b11d;">)</span>
      <span style="color: #67b11d;">(</span>org-babel-tangle<span style="color: #67b11d;">)</span>
      <span style="color: #67b11d;">(</span>byte-compile-file <span style="color: #b1951d;">(</span>concat user-emacs-directory <span style="color: #2d9574;">"init.el"</span><span style="color: #b1951d;">)</span><span style="color: #67b11d;">)</span><span style="color: #2d9574;">)</span><span style="color: #bc6ec5;">)</span><span style="color: #4f97d7;">)</span>

<span style="color: #4f97d7;">(</span>add-hook 'after-save-hook 'tangle-init<span style="color: #4f97d7;">)</span>
</pre>
</div>

<p>
(Not in use) The following config is a common optimization to temporarily disable
garbage collection during initialization.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">-*- mode: emacs-lisp -*-</span>

<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">lexical-let</span> <span style="color: #bc6ec5;">(</span><span style="color: #2d9574;">(</span>old-gc-treshold gc-cons-threshold<span style="color: #2d9574;">)</span><span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> gc-cons-threshold most-positive-fixnum<span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span>add-hook 'after-init-hook
            <span style="color: #2d9574;">(</span><span style="color: #4f97d7; font-weight: bold;">lambda</span> <span style="color: #67b11d;">()</span> <span style="color: #67b11d;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> gc-cons-threshold old-gc-treshold<span style="color: #67b11d;">)</span><span style="color: #2d9574;">)</span><span style="color: #bc6ec5;">)</span><span style="color: #4f97d7;">)</span>
</pre>
</div>
</div>
</div>


<div id="outline-container-org194f80f" class="outline-2">
<h2 id="org194f80f"><span class="section-number-2">4</span> Packages</h2>
<div class="outline-text-2" id="text-4">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">require</span> '<span style="color: #a45bad;">package</span><span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> package-archives
      '<span style="color: #bc6ec5;">(</span><span style="color: #2d9574;">(</span><span style="color: #2d9574;">"melpa"</span> . <span style="color: #2d9574;">"https://melpa.org/packages/"</span><span style="color: #2d9574;">)</span>
        <span style="color: #2d9574;">(</span><span style="color: #2d9574;">"gnu"</span> . <span style="color: #2d9574;">"https://elpa.gnu.org/packages/"</span><span style="color: #2d9574;">)</span>
        <span style="color: #2d9574;">(</span><span style="color: #2d9574;">"org"</span> . <span style="color: #2d9574;">"http://orgmode.org/elpa/"</span><span style="color: #2d9574;">)</span><span style="color: #bc6ec5;">)</span><span style="color: #4f97d7;">)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;</span><span style="color: #2aa1ae; background-color: #292e34;">(require 'popwin)</span>

<span style="color: #4f97d7;">(</span>add-to-list 'package-archives
             '<span style="color: #bc6ec5;">(</span><span style="color: #2d9574;">"MELPA Stable"</span> . <span style="color: #2d9574;">"https://stable.melpa.org/packages/"</span><span style="color: #bc6ec5;">)</span> t<span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">(</span>add-to-list 'package-archives
             '<span style="color: #bc6ec5;">(</span><span style="color: #2d9574;">"elpy"</span> . <span style="color: #2d9574;">"http://jorgenschaefer.github.io/packages/"</span><span style="color: #bc6ec5;">)</span><span style="color: #4f97d7;">)</span>

<span style="color: #4f97d7;">(</span>add-to-list 'load-path <span style="color: #2d9574;">"~/.emacs.d/pkgs"</span><span style="color: #4f97d7;">)</span>

<span style="color: #4f97d7;">(</span>package-initialize<span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">when</span> <span style="color: #bc6ec5;">(</span>not package-archive-contents<span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span>package-refresh-contents<span style="color: #bc6ec5;">)</span><span style="color: #4f97d7;">)</span>

<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">require</span> '<span style="color: #a45bad;">ein</span><span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">require</span> '<span style="color: #a45bad;">ein-notebook</span><span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">require</span> '<span style="color: #a45bad;">ein-subpackages</span><span style="color: #4f97d7;">)</span>

<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">defvar</span> <span style="color: #7590db;">myPackages</span>
  '<span style="color: #bc6ec5;">(</span>better-defaults
    ein
    elpy
    flycheck
    spolky
    <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">py-autopep8</span>
    <span style="color: #bc6ec5;">)</span><span style="color: #4f97d7;">)</span>

<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">This is only needed once, near the top of the file</span>
<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">eval-when-compile</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">Following line is not needed if use-package.el is in ~/.emacs.d</span>
  <span style="color: #bc6ec5;">(</span>add-to-list 'load-path <span style="color: #2d9574;">"../.emacs.d/elpa"</span><span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">require</span> '<span style="color: #a45bad;">use-package</span><span style="color: #bc6ec5;">)</span><span style="color: #4f97d7;">)</span>
</pre>
</div>
</div>
</div>


<div id="outline-container-orgcaa36f5" class="outline-2">
<h2 id="orgcaa36f5"><span class="section-number-2">5</span> General config</h2>
<div class="outline-text-2" id="text-5">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">"General setup, just copy and paste"</span>

<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> inhibit-startup-message t<span style="color: #4f97d7;">)</span> <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">hide the startup message</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">remove backup files (e.g. README.md~)</span>
<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> make-backup-files nil<span style="color: #4f97d7;">)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">prevent pop-up window "Async Shell Command" when doing pdf-&gt;tex sync</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(setq pop-up-windows nil)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(call-process-shell-command "okular&amp;" nil 0)</span>
<span style="color: #4f97d7;">(</span>add-to-list 'display-buffer-alist
             <span style="color: #bc6ec5;">(</span>cons <span style="color: #2d9574;">"\\*Async Shell Command\\*.*"</span> <span style="color: #2d9574;">(</span>cons #'display-buffer-no-window nil<span style="color: #2d9574;">)</span><span style="color: #bc6ec5;">)</span><span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">(</span>global-linum-mode t<span style="color: #4f97d7;">)</span> <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">enable line numbers globally</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">Use cmd key for meta</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">https://superuser.com/questions/297259/set-emacs-meta-key-to-be-the-mac-key</span>
<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> mac-option-key-is-meta nil
      mac-command-key-is-meta t
      mac-command-modifier 'meta
      mac-option-modifier 'none<span style="color: #4f97d7;">)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(global-linum-mode t) ;; enable line numbers globally</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(add-hook 'prog-mode-hook 'column-number-mode)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(add-hook 'prog-mode-hook 'linum-mode) ;; enable (line number, col number)</span>
<span style="color: #4f97d7;">(</span>windmove-default-keybindings<span style="color: #4f97d7;">)</span>          <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">e.g. Shift-arrow to swith windows</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">make swithing windows easier</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(global-set-key (kbd "C-x p") (kbd "C-- C-x o"))</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(global-set-key (kbd "C-x n") (kbd "C-x o"))</span>
<span style="color: #4f97d7;">(</span>global-set-key <span style="color: #bc6ec5;">(</span>kbd <span style="color: #2d9574;">"M-p"</span><span style="color: #bc6ec5;">)</span> <span style="color: #bc6ec5;">(</span>kbd <span style="color: #2d9574;">"C-- C-x o"</span><span style="color: #bc6ec5;">)</span><span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">(</span>global-set-key <span style="color: #bc6ec5;">(</span>kbd <span style="color: #2d9574;">"M-n"</span><span style="color: #bc6ec5;">)</span> <span style="color: #bc6ec5;">(</span>kbd <span style="color: #2d9574;">"C-x o"</span><span style="color: #bc6ec5;">)</span><span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">(</span>global-set-key <span style="color: #bc6ec5;">(</span>kbd <span style="color: #2d9574;">"M-j"</span><span style="color: #bc6ec5;">)</span> 'windmove-down<span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">(</span>global-set-key <span style="color: #bc6ec5;">(</span>kbd <span style="color: #2d9574;">"M-k"</span><span style="color: #bc6ec5;">)</span> 'windmove-up<span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">(</span>global-set-key <span style="color: #bc6ec5;">(</span>kbd <span style="color: #2d9574;">"M-h"</span><span style="color: #bc6ec5;">)</span> 'windmove-left<span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">(</span>global-set-key <span style="color: #bc6ec5;">(</span>kbd <span style="color: #2d9574;">"M-l"</span><span style="color: #bc6ec5;">)</span> 'windmove-right<span style="color: #4f97d7;">)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(global-unset-key (kbd "C-x C-c"))</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(global-unset-key (kbd "M-v"))</span>
<span style="color: #4f97d7;">(</span>global-set-key <span style="color: #bc6ec5;">(</span>kbd <span style="color: #2d9574;">"M-v"</span><span style="color: #bc6ec5;">)</span> 'evil-paste-after<span style="color: #4f97d7;">)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">Auto fill mode</span>
<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> default-fill-column <span style="color: #a45bad;">80</span><span style="color: #4f97d7;">)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(add-hook 'text-mode-hook 'turn-on-auto-fill)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">Turn off auto-fill-mode in markdown</span>
<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">defun</span> <span style="color: #bc6ec5; font-weight: bold;">my-markdown-mode-hook</span> <span style="color: #bc6ec5;">()</span>
  <span style="color: #bc6ec5;">(</span>auto-fill-mode <span style="color: #a45bad;">0</span><span style="color: #bc6ec5;">)</span><span style="color: #4f97d7;">)</span>                   <span style="color: #2aa1ae; background-color: #292e34;">; </span><span style="color: #2aa1ae; background-color: #292e34;">turn off auto-filling</span>
<span style="color: #4f97d7;">(</span>add-hook 'markdown-mode-hook 'my-markdown-mode-hook<span style="color: #4f97d7;">)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;</span><span style="color: #2aa1ae; background-color: #292e34;">(popwin-mode 1)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">Method two: use emacs default</span>
<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">setq-default</span>
 <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">Column Marker at 80</span>
 whitespace-line-column <span style="color: #a45bad;">80</span>
 whitespace-style       '<span style="color: #bc6ec5;">(</span>face lines-tail<span style="color: #bc6ec5;">)</span><span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">(</span>add-hook 'prog-mode-hook #'whitespace-mode<span style="color: #4f97d7;">)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">dumb-jump</span>
<span style="color: #4f97d7;">(</span>dumb-jump-mode<span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">(</span>global-set-key <span style="color: #bc6ec5;">(</span>kbd <span style="color: #2d9574;">"C-M-o"</span><span style="color: #bc6ec5;">)</span> 'dumb-jump-go<span style="color: #4f97d7;">)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">Auto revert mode</span>
<span style="color: #4f97d7;">(</span>global-auto-revert-mode <span style="color: #a45bad;">1</span><span style="color: #4f97d7;">)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">kill/copy whole line</span>
<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">defun</span> <span style="color: #bc6ec5; font-weight: bold;">slick-cut</span> <span style="color: #bc6ec5;">(</span>beg end<span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">interactive</span>
   <span style="color: #2d9574;">(</span><span style="color: #4f97d7; font-weight: bold;">if</span> mark-active
       <span style="color: #67b11d;">(</span>list <span style="color: #b1951d;">(</span>region-beginning<span style="color: #b1951d;">)</span> <span style="color: #b1951d;">(</span>region-end<span style="color: #b1951d;">)</span><span style="color: #67b11d;">)</span>
     <span style="color: #67b11d;">(</span>list <span style="color: #b1951d;">(</span>line-beginning-position<span style="color: #b1951d;">)</span> <span style="color: #b1951d;">(</span>line-beginning-position <span style="color: #a45bad;">2</span><span style="color: #b1951d;">)</span><span style="color: #67b11d;">)</span><span style="color: #2d9574;">)</span><span style="color: #bc6ec5;">)</span><span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">(</span>advice-add 'kill-region <span style="color: #4f97d7;">:before</span> #'slick-cut<span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">defun</span> <span style="color: #bc6ec5; font-weight: bold;">slick-copy</span> <span style="color: #bc6ec5;">(</span>beg end<span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">interactive</span>
   <span style="color: #2d9574;">(</span><span style="color: #4f97d7; font-weight: bold;">if</span> mark-active
       <span style="color: #67b11d;">(</span>list <span style="color: #b1951d;">(</span>region-beginning<span style="color: #b1951d;">)</span> <span style="color: #b1951d;">(</span>region-end<span style="color: #b1951d;">)</span><span style="color: #67b11d;">)</span>
     <span style="color: #67b11d;">(</span>message <span style="color: #2d9574;">"Copied line"</span><span style="color: #67b11d;">)</span>
     <span style="color: #67b11d;">(</span>list <span style="color: #b1951d;">(</span>line-beginning-position<span style="color: #b1951d;">)</span> <span style="color: #b1951d;">(</span>line-beginning-position <span style="color: #a45bad;">2</span><span style="color: #b1951d;">)</span><span style="color: #67b11d;">)</span><span style="color: #2d9574;">)</span><span style="color: #bc6ec5;">)</span><span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">(</span>advice-add 'kill-ring-save <span style="color: #4f97d7;">:before</span> #'slick-copy<span style="color: #4f97d7;">)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">Indentation</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;</span><span style="color: #2aa1ae; background-color: #292e34;">(setq-default indent-tabs-mode nil)</span>
<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> tab-width <span style="color: #a45bad;">4</span><span style="color: #4f97d7;">)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(global-set-key (kbd "C-c c") 'compile)</span>
<span style="color: #4f97d7;">(</span>global-set-key <span style="color: #bc6ec5;">(</span>kbd <span style="color: #2d9574;">"C-c r"</span><span style="color: #bc6ec5;">)</span> 'compile<span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">(</span>global-set-key <span style="color: #bc6ec5;">(</span>kbd <span style="color: #2d9574;">"C-c m"</span><span style="color: #bc6ec5;">)</span> 'recompile<span style="color: #4f97d7;">)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(require 'insert-time)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(define-key global-map [(control c)(d)] 'insert-date-time)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(define-key global-map [(control c)(control v)(d)] 'insert-personal-time-stamp)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">Ref: https://stackoverflow.com/questions/384284/how-do-i-rename-an-open-file-in-emacs</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">source: http://steve.yegge.googlepages.com/my-dot-emacs-file</span>
<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">defun</span> <span style="color: #bc6ec5; font-weight: bold;">rename-file-and-buffer</span> <span style="color: #bc6ec5;">(</span>new-name<span style="color: #bc6ec5;">)</span>
  <span style="color: #2aa1ae;">"Renames both current buffer and file it's visiting to NEW-NAME."</span>
  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">interactive</span> <span style="color: #2d9574;">"sNew name: "</span><span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">let</span> <span style="color: #2d9574;">(</span><span style="color: #67b11d;">(</span>name <span style="color: #b1951d;">(</span>buffer-name<span style="color: #b1951d;">)</span><span style="color: #67b11d;">)</span>
        <span style="color: #67b11d;">(</span>filename <span style="color: #b1951d;">(</span>buffer-file-name<span style="color: #b1951d;">)</span><span style="color: #67b11d;">)</span><span style="color: #2d9574;">)</span>
    <span style="color: #2d9574;">(</span><span style="color: #4f97d7; font-weight: bold;">if</span> <span style="color: #67b11d;">(</span>not filename<span style="color: #67b11d;">)</span>
        <span style="color: #67b11d;">(</span>message <span style="color: #2d9574;">"Buffer '%s' is not visiting a file!"</span> name<span style="color: #67b11d;">)</span>
      <span style="color: #67b11d;">(</span><span style="color: #4f97d7; font-weight: bold;">if</span> <span style="color: #b1951d;">(</span>get-buffer new-name<span style="color: #b1951d;">)</span>
          <span style="color: #b1951d;">(</span>message <span style="color: #2d9574;">"A buffer named '%s' already exists!"</span> new-name<span style="color: #b1951d;">)</span>
        <span style="color: #b1951d;">(</span><span style="color: #4f97d7; font-weight: bold;">progn</span>
          <span style="color: #4f97d7;">(</span>rename-file filename new-name <span style="color: #a45bad;">1</span><span style="color: #4f97d7;">)</span>
          <span style="color: #4f97d7;">(</span>rename-buffer new-name<span style="color: #4f97d7;">)</span>
          <span style="color: #4f97d7;">(</span>set-visited-file-name new-name<span style="color: #4f97d7;">)</span>
          <span style="color: #4f97d7;">(</span>set-buffer-modified-p nil<span style="color: #4f97d7;">)</span><span style="color: #b1951d;">)</span><span style="color: #67b11d;">)</span><span style="color: #2d9574;">)</span><span style="color: #bc6ec5;">)</span><span style="color: #4f97d7;">)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">https://emacsredux.com/blog/2013/05/18/instant-access-to-init-dot-el/</span>
<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">defun</span> <span style="color: #bc6ec5; font-weight: bold;">er-find-user-init-file</span> <span style="color: #bc6ec5;">()</span>
  <span style="color: #2aa1ae;">"Edit the `</span><span style="color: #a45bad;">user-init-file</span><span style="color: #2aa1ae;">', in another window."</span>
  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">interactive</span><span style="color: #bc6ec5;">)</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(find-file-other-window user-init-file)</span>
  <span style="color: #bc6ec5;">(</span>find-file user-init-file<span style="color: #bc6ec5;">)</span>
  <span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">(</span>global-set-key <span style="color: #bc6ec5;">(</span>kbd <span style="color: #2d9574;">"C-c i"</span><span style="color: #bc6ec5;">)</span> <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">lambda</span><span style="color: #2d9574;">()</span> <span style="color: #2d9574;">(</span><span style="color: #4f97d7; font-weight: bold;">interactive</span><span style="color: #2d9574;">)(</span>find-file <span style="color: #2d9574;">"~/.emacs.d/init.org"</span><span style="color: #2d9574;">)</span><span style="color: #bc6ec5;">)</span><span style="color: #4f97d7;">)</span>

<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">set encoding</span>
<span style="color: #4f97d7;">(</span>set-language-environment <span style="color: #2d9574;">"UTF-8"</span><span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">(</span>set-default-coding-systems 'utf-8<span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">(</span>set-buffer-file-coding-system 'utf-8-unix<span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">(</span>set-clipboard-coding-system 'utf-8-unix<span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">(</span>set-file-name-coding-system 'utf-8-unix<span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">(</span>set-keyboard-coding-system 'utf-8-unix<span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">(</span>set-next-selection-coding-system 'utf-8-unix<span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">(</span>set-selection-coding-system 'utf-8-unix<span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">(</span>set-terminal-coding-system 'utf-8-unix<span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> locale-coding-system 'utf-8<span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">(</span>prefer-coding-system 'utf-8<span style="color: #4f97d7;">)</span>
</pre>
</div>
</div>
</div>


<div id="outline-container-orgaff52c9" class="outline-2">
<h2 id="orgaff52c9"><span class="section-number-2">6</span> mu4e</h2>
<div class="outline-text-2" id="text-6">
</div>
<div id="outline-container-orga707313" class="outline-3">
<h3 id="orga707313"><span class="section-number-3">6.1</span> Main</h3>
<div class="outline-text-3" id="text-6-1">
<p>
<b>Set the path of <code>mu4e</code>:</b>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">when</span> <span style="color: #bc6ec5;">(</span>eq system-type 'darwin<span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span>add-to-list
   'load-path <span style="color: #2d9574;">"/usr/local/Cellar/mu/1.2.0_1/share/emacs/site-lisp/mu/mu4e"</span><span style="color: #bc6ec5;">)</span><span style="color: #4f97d7;">)</span>

<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(load-file "~/.my-elips/mail.el")</span>

<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">Emacs specific (not on Spacemacs)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(global-set-key (kbd "mu") (kbd "mu4e"))</span>
</pre>
</div>

<p>
<b><b>Mu4e maildirs extension</b></b>
(<a href="https://github.com/agpchil/mu4e-maildirs-extension">https://github.com/agpchil/mu4e-maildirs-extension</a>), which adds a
maildir summary in <code>mu4e-main-view</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4f97d7;">(</span>mu4e-maildirs-extension<span style="color: #4f97d7;">)</span>
</pre>
</div>

<p>
<b><b>General setup</b></b>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">require</span> '<span style="color: #a45bad;">mu4e</span><span style="color: #4f97d7;">)</span>      <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">read messages</span>
<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">require</span> '<span style="color: #a45bad;">smtpmail</span><span style="color: #4f97d7;">)</span>  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">send messages</span>

<span style="color: #4f97d7;">(</span>global-set-key <span style="color: #bc6ec5;">(</span>kbd <span style="color: #2d9574;">"C-c e"</span><span style="color: #bc6ec5;">)</span> 'mu4e<span style="color: #4f97d7;">)</span>

<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">spell check and org-mu4e</span>
<span style="color: #4f97d7;">(</span>add-hook 'mu4e-compose-mode-hook
          <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">defun</span> <span style="color: #bc6ec5; font-weight: bold;">my-do-compose-stuff</span> <span style="color: #2d9574;">()</span>
            <span style="color: #2aa1ae;">"My settings for message composition."</span>
            <span style="color: #2d9574;">(</span>set-fill-column <span style="color: #a45bad;">72</span><span style="color: #2d9574;">)</span>
            <span style="color: #2d9574;">(</span>flyspell-mode<span style="color: #2d9574;">)</span>
            <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(org-mu4e-compose-org-mode)</span>
            <span style="color: #bc6ec5;">)</span><span style="color: #4f97d7;">)</span>

<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> mail-user-agent 'mu4e-user-agent <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">use mu4e for e-mail in emacs</span>
      <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">for mbsync, when move a message to All Mail as archiving</span>
      mu4e-change-filenames-when-moving t
      mu4e-view-show-addresses t
      mu4e-maildir <span style="color: #2d9574;">"~/Maildir"</span>
      mu4e-get-mail-command <span style="color: #2d9574;">"mbsync umd"</span>
      mu4e-attachment-dir <span style="color: #2d9574;">"~/Documents/MailAttachments"</span>
      <span style="color: #4f97d7;">)</span>

<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #cc9393;">TODO</span><span style="color: #2aa1ae; background-color: #292e34;">: try this out</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(setq mu4e-context-policy 'pick-first)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(setq mu4e-compose-context-policy 'always-ask)</span>

<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">;; Not needed because spacemacs has this as default</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">;; Bookmarks</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(setq mu4e-bookmarks</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;       </span><span style="color: #2aa1ae; background-color: #292e34;">`(</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;         </span><span style="color: #2aa1ae; background-color: #292e34;">("flag:unread AND NOT flag:trashed" "Unread messages" ?u)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;         </span><span style="color: #2aa1ae; background-color: #292e34;">("flag:unread" "new messages" ?n)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;         </span><span style="color: #2aa1ae; background-color: #292e34;">("date:today..now" "Today's messages" ?t)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;         </span><span style="color: #2aa1ae; background-color: #292e34;">("date:7d..now" "Last 7 days" ?w)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;         </span><span style="color: #2aa1ae; background-color: #292e34;">("mime:image/*" "Messages with images" ?p)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;         </span><span style="color: #2aa1ae; background-color: #292e34;">))</span>

<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> mu4e-update-interval <span style="color: #a45bad;">60</span><span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> mu4e-search-result-limit <span style="color: #a45bad;">400</span><span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> mu4e-headers-results-limit <span style="color: #a45bad;">500</span><span style="color: #4f97d7;">)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(define-key mu4e-headers-mode-map (kbd "d") nil)</span>

<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">tell mu4e to use w3m for html rendering.</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(setq mu4e-html2text-command "w3m -T text/html")</span>
<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> mu4e-html2text-command <span style="color: #2d9574;">"w3m -dump -T text/html -o display_link_number=true"</span><span style="color: #4f97d7;">)</span>

<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">Alert</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(setq mu4e-alert-interesting-mail-query "flag:unread AND maildir:/INBOX")</span>

<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">view message in browser by typing 'aV'</span>
<span style="color: #4f97d7;">(</span>add-to-list 'mu4e-view-actions
             '<span style="color: #bc6ec5;">(</span><span style="color: #2d9574;">"ViewInBrowser"</span> . mu4e-action-view-in-browser<span style="color: #bc6ec5;">)</span> t<span style="color: #4f97d7;">)</span>

<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> mu4e-hide-index-messages t<span style="color: #4f97d7;">)</span> <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">Silence index messages</span>

<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">show images</span>
<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> mu4e-view-show-images t<span style="color: #4f97d7;">)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">use imagemagick, if available</span>
<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">when</span> <span style="color: #bc6ec5;">(</span>fboundp 'imagemagick-register-types<span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span>imagemagick-register-types<span style="color: #bc6ec5;">)</span><span style="color: #4f97d7;">)</span>

<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #cc9393;">TODO</span><span style="color: #2aa1ae; background-color: #292e34;">: try this out</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">Load the org-mu4e package</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(load "org-mu4e")</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(setq org-mu4e-convert-to-html t)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(use-package org-mime</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;   </span><span style="color: #2aa1ae; background-color: #292e34;">:ensure t)</span>

<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">https://emacs.stackexchange.com/questions/52487/mu4e-how-to-stop-the-unarchiving-of-entire-threads-when-new-message-arrives</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #cc9393;">TODO</span><span style="color: #2aa1ae; background-color: #292e34;">: uncomment if necessary</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(setq mu4e-headers-include-related nil)</span>

<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">;; sending emails</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(setq user-mail-address "chongchong@astro.umd.edu"</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;       </span><span style="color: #2aa1ae; background-color: #292e34;">user-full-name  "ChongChong He"</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;       </span><span style="color: #2aa1ae; background-color: #292e34;">smtpmail-default-smtp-server "gaia.astro.umd.edu"</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;       </span><span style="color: #2aa1ae; background-color: #292e34;">;; smtpmail-local-domain "account1.example.com"</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;       </span><span style="color: #2aa1ae; background-color: #292e34;">smtpmail-smtp-server "gaia.astro.umd.edu"</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;       </span><span style="color: #2aa1ae; background-color: #292e34;">;; smtpmail-stream-type 'starttls</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;       </span><span style="color: #2aa1ae; background-color: #292e34;">;; smtpmail-smtp-service 587</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;       </span><span style="color: #2aa1ae; background-color: #292e34;">smtpmail-debug-info t)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">from: http://cachestocaches.com/2017/3/complete-guide-email-emacs-using-mu-and-/#getting-set-up-with-mu-and-offlineimap</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(setq sendmail-program "/usr/local/bin/msmtp"</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;       </span><span style="color: #2aa1ae; background-color: #292e34;">send-mail-function 'smtpmail-send-it</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;       </span><span style="color: #2aa1ae; background-color: #292e34;">message-sendmail-f-is-evil t</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;       </span><span style="color: #2aa1ae; background-color: #292e34;">message-sendmail-extra-arguments '("--read-envelope-from")</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;       </span><span style="color: #2aa1ae; background-color: #292e34;">message-send-mail-function 'message-send-mail-with-sendmail)</span>

<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(setq mu4e-compose-signature</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;    </span><span style="color: #2aa1ae; background-color: #292e34;">"ChongChong He\n")</span>
<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">defun</span> <span style="color: #bc6ec5; font-weight: bold;">my-mu4e-choose-signature</span> <span style="color: #bc6ec5;">()</span>
  <span style="color: #2aa1ae;">"Insert one of a number of sigs"</span>
  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">interactive</span><span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">let</span> <span style="color: #2d9574;">(</span><span style="color: #67b11d;">(</span>message-signature
         <span style="color: #b1951d;">(</span>mu4e-read-option <span style="color: #2d9574;">"Signature:"</span>
                           '<span style="color: #4f97d7;">(</span><span style="color: #bc6ec5;">(</span><span style="color: #2d9574;">"formal"</span> .
                              <span style="color: #2d9574;">(</span>concat
                               <span style="color: #2d9574;">"Chong-Chong He\n"</span>
                               <span style="color: #2d9574;">"PhD Student, Department of Astronomy\n"</span>
                               <span style="color: #2d9574;">"University of Maryland, College Park\n"</span>
                               <span style="color: #2d9574;">"E: che1234@umd.edu\n"</span>
                               <span style="color: #2d9574;">"W: https://chongchonghe.github.io/"</span><span style="color: #2d9574;">)</span><span style="color: #bc6ec5;">)</span>
                             <span style="color: #bc6ec5;">(</span><span style="color: #2d9574;">"informal"</span> .
                              <span style="color: #2d9574;">(</span>concat
                               <span style="color: #2d9574;">"Best,\n"</span>
                               <span style="color: #2d9574;">"ChongChong\n"</span><span style="color: #2d9574;">)</span>
                              <span style="color: #bc6ec5;">)</span>
                             <span style="color: #4f97d7;">)</span><span style="color: #b1951d;">)</span><span style="color: #67b11d;">)</span><span style="color: #2d9574;">)</span>
    <span style="color: #2d9574;">(</span>message-insert-signature<span style="color: #2d9574;">)</span><span style="color: #bc6ec5;">)</span><span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">(</span>add-hook 'mu4e-compose-mode-hook
          <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">lambda</span> <span style="color: #2d9574;">()</span> <span style="color: #2d9574;">(</span>local-set-key <span style="color: #67b11d;">(</span>kbd <span style="color: #2d9574;">"C-c C-w s"</span><span style="color: #67b11d;">)</span> #'my-mu4e-choose-signature<span style="color: #2d9574;">)</span><span style="color: #bc6ec5;">)</span><span style="color: #4f97d7;">)</span>

<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">use 'fancy' non-ascii characters in various places in mu4e</span>
<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> mu4e-use-fancy-chars t<span style="color: #4f97d7;">)</span>

<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">automatically cc myself</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(setq mu4e-compose-dont-reply-to-self nil) ;; trying because the above doesn't work</span>
<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> mu4e-compose-keep-self-cc t<span style="color: #4f97d7;">)</span>

<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #cc9393;">TODO</span><span style="color: #2aa1ae; background-color: #292e34;">: Uncomment if necessary</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(setq mu4e-compose-dont-reply-to-self nil) ; ?</span>

<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(add-to-list 'file-name-handler-alist '("Drafts/cur/" . draft-auto-save-buffer-name-handler))</span>

<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #cc9393;">TODO</span><span style="color: #2aa1ae; background-color: #292e34;">: Uncomment if necessary. Don't know how the default looks in spacemacs</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">the headers to show in the headers list -- a pair of a field</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">and its width, with `</span><span style="color: #a45bad; background-color: #292e34;">nil</span><span style="color: #2aa1ae; background-color: #292e34;">' meaning 'unlimited'</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(setq mu4e-headers-fields</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;       </span><span style="color: #2aa1ae; background-color: #292e34;">'(</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;"> (:human-date    . 14)    ;; alternatively, use :human-date</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;"> (:flags         . 8)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;"> (:from-or-to    . 30)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;"> (:subject       . nil)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;"> )) ;; alternatively, use :thread-subject</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(setq mu4e-split-view 'vertical)</span>
<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> mu4e-headers-fields
      '<span style="color: #bc6ec5;">(</span>
        <span style="color: #2d9574;">(</span><span style="color: #4f97d7;">:human-date</span>    . <span style="color: #a45bad;">14</span><span style="color: #2d9574;">)</span>    <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">alternatively, use :human-date</span>
        <span style="color: #2d9574;">(</span><span style="color: #4f97d7;">:flags</span>         . <span style="color: #a45bad;">6</span><span style="color: #2d9574;">)</span>
        <span style="color: #2d9574;">(</span><span style="color: #4f97d7;">:from-or-to</span>    . <span style="color: #a45bad;">26</span><span style="color: #2d9574;">)</span>
        <span style="color: #2d9574;">(</span><span style="color: #4f97d7;">:subject</span>       . <span style="color: #a45bad;">34</span><span style="color: #2d9574;">)</span>
        <span style="color: #bc6ec5;">)</span><span style="color: #4f97d7;">)</span> <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">alternatively, use :thread-subject</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(setq mu4e-split-view 'horizontal)  ; default is horizontal</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(setq mu4e-headers-visible-columns 82)</span>
<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> mu4e-headers-visible-lines <span style="color: #a45bad;">20</span><span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">(</span>add-hook 'mu4e-headers-hook <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">lambda</span> <span style="color: #2d9574;">()</span> <span style="color: #2d9574;">(</span>linum-mode <span style="color: #a45bad;">0</span><span style="color: #2d9574;">)</span><span style="color: #bc6ec5;">)</span><span style="color: #4f97d7;">)</span>

<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> message-citation-line-function 'message-insert-formatted-citation-line<span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> message-citation-line-format <span style="color: #2d9574;">"On %a, %b %d %Y at %R, %f wrote:\n"</span><span style="color: #4f97d7;">)</span>

<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">Configs from https://www.reddit.com/r/spacemacs/comments/c8omik/spacemacs_mu4e_emacsw3m_awesome/ that I don't understand</span>
<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> mu4e-headers-skip-duplicates t<span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> mu4e-display-update-status-in-modeline t<span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> mu4e-compose-format-flowed t<span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> mu4e-compose-complete-only-personal t<span style="color: #4f97d7;">)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;</span>
<span style="color: #4f97d7;">(</span>add-hook 'LaTeX-mode-hook #'visual-line-mode<span style="color: #4f97d7;">)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;</span>
<span style="color: #4f97d7;">(</span>electric-pair-mode<span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">(</span>add-hook 'LaTeX-mode-hook
          '<span style="color: #bc6ec5;">(</span>lambda <span style="color: #2d9574;">()</span>
             <span style="color: #2d9574;">(</span>define-key LaTeX-mode-map <span style="color: #67b11d;">(</span>kbd <span style="color: #2d9574;">"$"</span><span style="color: #67b11d;">)</span> 'self-insert-command<span style="color: #2d9574;">)</span>
             <span style="color: #bc6ec5;">)</span><span style="color: #4f97d7;">)</span>

<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(setq mu4e-compose-mode-hook</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;       </span><span style="color: #2aa1ae; background-color: #292e34;">(lambda ()</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;         </span><span style="color: #2aa1ae; background-color: #292e34;">;; (use-hard-newlines -1)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;         </span><span style="color: #2aa1ae; background-color: #292e34;">(auto-fill-mode)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;         </span><span style="color: #2aa1ae; background-color: #292e34;">;; (visual-line-mode)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;         </span><span style="color: #2aa1ae; background-color: #292e34;">))</span>

</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4f97d7;">(</span>add-to-list 'mu4e-view-actions '<span style="color: #bc6ec5;">(</span><span style="color: #2d9574;">"ViewInBrowser"</span> . mu4e-action-view-in-browser<span style="color: #bc6ec5;">)</span> t<span style="color: #4f97d7;">)</span>
</pre>
</div>

<p>
<b><b>Desktop notification</b></b>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">defun</span> <span style="color: #bc6ec5; font-weight: bold;">enable-mu4e-notification</span> <span style="color: #bc6ec5;">()</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">Desktop notifications for unread emails</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">Choose the style you prefer for desktop notifications</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">If you are on Linux you can use</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">1. notifications - Emacs lisp implementation of the Desktop Notifications API</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">2. libnotify     - Notifications using the `</span><span style="color: #a45bad; background-color: #292e34;">notify-send</span><span style="color: #2aa1ae; background-color: #292e34;">' program, requires `</span><span style="color: #a45bad; background-color: #292e34;">notify-send</span><span style="color: #2aa1ae; background-color: #292e34;">' to be in PATH</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;;</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">On Mac OSX you can set style to</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">1. notifier      - Notifications using the `</span><span style="color: #a45bad; background-color: #292e34;">terminal-notifier</span><span style="color: #2aa1ae; background-color: #292e34;">' program, requires `</span><span style="color: #a45bad; background-color: #292e34;">terminal-notifier</span><span style="color: #2aa1ae; background-color: #292e34;">' to be in PATH</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">1. growl         - Notifications using the `</span><span style="color: #a45bad; background-color: #292e34;">growl</span><span style="color: #2aa1ae; background-color: #292e34;">' program, requires `</span><span style="color: #a45bad; background-color: #292e34;">growlnotify</span><span style="color: #2aa1ae; background-color: #292e34;">' to be in PATH</span>
  <span style="color: #bc6ec5;">(</span>add-hook 'after-init-hook #'mu4e-alert-enable-notifications<span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span>mu4e-alert-set-default-style 'notifier<span style="color: #bc6ec5;">)</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">Mode Line display of unread emails</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">Display of the unread email count in the mode-line</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(add-hook 'after-init-hook #'mu4e-alert-enable-mode-line-display)</span>
  <span style="color: #bc6ec5;">(</span>add-hook 'after-init-hook #'mu4e-alert-disable-mode-line-display<span style="color: #bc6ec5;">)</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">adding the following snippet to your init file, will instruct</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">mu4e-alert to only display the number of unread emails.</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(setq mu4e-alert-email-notification-types '(subjects))</span>
  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> mu4e-alert-email-notification-types '<span style="color: #2d9574;">(</span>count<span style="color: #2d9574;">)</span><span style="color: #bc6ec5;">)</span>
  <span style="color: #4f97d7;">)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">Uncomment the following line and the defun above to enable notification</span>
<span style="color: #4f97d7;">(</span>enable-mu4e-notification<span style="color: #4f97d7;">)</span>
</pre>
</div>

<p>
<b><b>Delete mu4e drafts on successfully sending the mail</b></b>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">Disable auto-save-mode on compose:</span>
<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> mu4e-sent-messages-behavior 'delete<span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">(</span>add-hook 'mu4e-compose-mode-hook #'<span style="color: #bc6ec5;">(</span>lambda <span style="color: #2d9574;">()</span> <span style="color: #2d9574;">(</span>auto-save-mode <span style="color: #a45bad;">-1</span><span style="color: #2d9574;">)</span><span style="color: #bc6ec5;">)</span><span style="color: #4f97d7;">)</span>
</pre>
</div>

<p>
(Not using) Old solution Ref:
<a href="https://emacs.stackexchange.com/questions/21723/how-can-i-delete-mu4e-drafts-on-successfully-sending-the-mail">https://emacs.stackexchange.com/questions/21723/how-can-i-delete-mu4e-drafts-on-successfully-sending-the-mail</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">defun</span> <span style="color: #bc6ec5; font-weight: bold;">draft-auto-save-buffer-name-handler</span> <span style="color: #bc6ec5;">(</span>operation <span style="color: #ce537a; font-weight: bold;">&amp;rest</span> args<span style="color: #bc6ec5;">)</span>
  <span style="color: #2aa1ae;">"for `</span><span style="color: #a45bad;">make-auto-save-file-name</span><span style="color: #2aa1ae;">' set '.' in front of the file name; do nothing for other operations"</span>
  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">if</span>
      <span style="color: #2d9574;">(</span><span style="color: #4f97d7; font-weight: bold;">and</span> buffer-file-name <span style="color: #67b11d;">(</span>eq operation 'make-auto-save-file-name<span style="color: #67b11d;">)</span><span style="color: #2d9574;">)</span>
      <span style="color: #2d9574;">(</span>concat <span style="color: #67b11d;">(</span>file-name-directory buffer-file-name<span style="color: #67b11d;">)</span>
              <span style="color: #2d9574;">"."</span>
              <span style="color: #67b11d;">(</span>file-name-nondirectory buffer-file-name<span style="color: #67b11d;">)</span><span style="color: #2d9574;">)</span>
    <span style="color: #2d9574;">(</span><span style="color: #4f97d7; font-weight: bold;">let</span> <span style="color: #67b11d;">(</span><span style="color: #b1951d;">(</span>inhibit-file-name-handlers
           <span style="color: #4f97d7;">(</span>cons 'draft-auto-save-buffer-name-handler
                 <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">and</span> <span style="color: #2d9574;">(</span>eq inhibit-file-name-operation operation<span style="color: #2d9574;">)</span>
                      inhibit-file-name-handlers<span style="color: #bc6ec5;">)</span><span style="color: #4f97d7;">)</span><span style="color: #b1951d;">)</span>
          <span style="color: #b1951d;">(</span>inhibit-file-name-operation operation<span style="color: #b1951d;">)</span><span style="color: #67b11d;">)</span>
      <span style="color: #67b11d;">(</span>apply operation args<span style="color: #67b11d;">)</span><span style="color: #2d9574;">)</span><span style="color: #bc6ec5;">)</span><span style="color: #4f97d7;">)</span>

<span style="color: #4f97d7;">(</span>add-to-list 'file-name-handler-alist '<span style="color: #bc6ec5;">(</span><span style="color: #2d9574;">"[Gmail].Drafts/cur/"</span> . draft-auto-save-buffer-name-handler<span style="color: #bc6ec5;">)</span><span style="color: #4f97d7;">)</span>
</pre>
</div>

<p>
Auto CC self:
(<a href="https://emacs.stackexchange.com/questions/52608/how-to-add-a-value-for-cc-or-reply-to-in-each-new-message/52609">https://emacs.stackexchange.com/questions/52608/how-to-add-a-value-for-cc-or-reply-to-in-each-new-message/52609</a>)
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4f97d7;">(</span>add-hook 'mu4e-compose-mode-hook
          <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">defun</span> <span style="color: #bc6ec5; font-weight: bold;">my-add-bcc</span> <span style="color: #2d9574;">()</span>
            <span style="color: #2aa1ae;">"Add a cc: header."</span>
            <span style="color: #2d9574;">(</span><span style="color: #4f97d7; font-weight: bold;">save-excursion</span> <span style="color: #67b11d;">(</span>message-add-header <span style="color: #2d9574;">"Cc: che1234@umd.edu\n"</span><span style="color: #67b11d;">)</span><span style="color: #2d9574;">)</span><span style="color: #bc6ec5;">)</span><span style="color: #4f97d7;">)</span>

<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">;; from https://www.djcbsoftware.nl/code/mu/mu4e/Compose-hooks.html</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(add-hook 'mu4e-compose-mode-hook</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;           </span><span style="color: #2aa1ae; background-color: #292e34;">(lambda()</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;             </span><span style="color: #2aa1ae; background-color: #292e34;">(let* ((ctx (mu4e-context-current))</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;                    </span><span style="color: #2aa1ae; background-color: #292e34;">(name (if ctx (mu4e-context-name ctx))))</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;               </span><span style="color: #2aa1ae; background-color: #292e34;">(when name</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;                 </span><span style="color: #2aa1ae; background-color: #292e34;">(cond</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;                  </span><span style="color: #2aa1ae; background-color: #292e34;">((string= name "astro")</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;                   </span><span style="color: #2aa1ae; background-color: #292e34;">(save-excursion (message-add-header "Cc: chongchong@astro.umd.edu\n")))</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;                  </span><span style="color: #2aa1ae; background-color: #292e34;">((string= name "terpmail")</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;                   </span><span style="color: #2aa1ae; background-color: #292e34;">(save-excursion (message-add-header "Cc: che1234@terpmail.umd.edu\n")))</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;                  </span><span style="color: #2aa1ae; background-color: #292e34;">((string= name "umd")</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;                   </span><span style="color: #2aa1ae; background-color: #292e34;">(save-excursion (message-add-header "Cc: che1234@umd.edu\n")))</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">    )))))</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org71c85f8" class="outline-3">
<h3 id="org71c85f8"><span class="section-number-3">6.2</span> Composing</h3>
<div class="outline-text-3" id="text-6-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">require</span> '<span style="color: #a45bad;">org-mime</span><span style="color: #4f97d7;">)</span>

<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">https://www.djcbsoftware.nl/code/mu/mu4e/Writing-messages.html</span>
<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> mu4e-compose-format-flowed t<span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">(</span>add-hook 'mu4e-compose-mode-hook #'<span style="color: #bc6ec5;">(</span>lambda <span style="color: #2d9574;">()</span> <span style="color: #2d9574;">(</span>auto-fill-mode <span style="color: #a45bad;">-1</span><span style="color: #2d9574;">)</span><span style="color: #bc6ec5;">)</span><span style="color: #4f97d7;">)</span>

<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(defun org-mime-org-buffer-htmlize ()</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;   </span><span style="color: #2aa1ae; background-color: #292e34;">"Create an email buffer containing the current org-mode file</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;   </span><span style="color: #2aa1ae; background-color: #292e34;">exported to html and encoded in both html and in org formats as</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;   </span><span style="color: #2aa1ae; background-color: #292e34;">mime alternatives."</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;   </span><span style="color: #2aa1ae; background-color: #292e34;">(interactive)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;   </span><span style="color: #2aa1ae; background-color: #292e34;">(org-mime-send-buffer 'html)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;   </span><span style="color: #2aa1ae; background-color: #292e34;">(message-goto-to))</span>

<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(defun htmlize-and-send ()</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;   </span><span style="color: #2aa1ae; background-color: #292e34;">"When in an org-mu4e-compose-org-mode message, htmlize and send it."</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;   </span><span style="color: #2aa1ae; background-color: #292e34;">(interactive)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;   </span><span style="color: #2aa1ae; background-color: #292e34;">(when (member 'org~mu4e-mime-switch-headers-or-body post-command-hook)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;     </span><span style="color: #2aa1ae; background-color: #292e34;">(org-mime-htmlize)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;     </span><span style="color: #2aa1ae; background-color: #292e34;">(message-send-and-exit)))</span>

<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(add-hook 'org-ctrl-c-ctrl-c-hook 'htmlize-and-send t)</span>

<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(add-hook 'mu4e-compose-mode-hook</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;           </span><span style="color: #2aa1ae; background-color: #292e34;">(defun do-compose-stuff ()</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;             </span><span style="color: #2aa1ae; background-color: #292e34;">"My settings for message composition."</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;             </span><span style="color: #2aa1ae; background-color: #292e34;">(org-mu4e-compose-org-mode)))</span>

</pre>
</div>
</div>
</div>

<div id="outline-container-org225807c" class="outline-3">
<h3 id="org225807c"><span class="section-number-3">6.3</span> Sending email</h3>
<div class="outline-text-3" id="text-6-3">
</div>
<div id="outline-container-org32f3c05" class="outline-4">
<h4 id="org32f3c05"><span class="section-number-4">6.3.1</span> Single account</h4>
<div class="outline-text-4" id="text-6-3-1">
<p>
Ref: <a href="https://www.djcbsoftware.nl/code/mu/mu4e/Gmail-configuration.html">https://www.djcbsoftware.nl/code/mu/mu4e/Gmail-configuration.html</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">don't keep message buffers around</span>
<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> message-kill-buffer-on-exit t<span style="color: #4f97d7;">)</span>

<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> smtpmail-debug-info t<span style="color: #4f97d7;">)</span>

<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span>
 sendmail-program <span style="color: #2d9574;">"/usr/local/bin/msmtp"</span>
 message-sendmail-f-is-evil t
 message-sendmail-extra-arguments '<span style="color: #bc6ec5;">(</span><span style="color: #2d9574;">"--read-envelope-from"</span><span style="color: #bc6ec5;">)</span>
 <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">send-mail-function 'smtpmail-send-it</span>
 <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">message-send-mail-function 'message-send-mail-with-sendmail</span>
 message-send-mail-function 'smtpmail-send-it
 user-full-name <span style="color: #2d9574;">"ChongChong He"</span>
 user-mail-address <span style="color: #2d9574;">"che1234@umd.edu"</span>
 smtpmail-smtp-user <span style="color: #2d9574;">"che1234@umd.edu"</span>
 smtpmail-default-smtp-server <span style="color: #2d9574;">"smtp.gmail.com"</span>
 smtpmail-smtp-server <span style="color: #2d9574;">"smtp.gmail.com"</span>
 smtpmail-smtp-service <span style="color: #a45bad;">587</span>
 <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">smtpmail-stream-type 'starttls</span>
 starttls-use-gnutls t
 smtpmail-starttls-credentials '<span style="color: #bc6ec5;">(</span><span style="color: #2d9574;">(</span><span style="color: #2d9574;">"smtp.gmail.com"</span> <span style="color: #a45bad;">587</span> nil nil<span style="color: #2d9574;">)</span><span style="color: #bc6ec5;">)</span>
 <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">smtpmail-auth-credentials (expand-file-name "~/.authinfo.gpg")</span>
 smtpmail-debug-info t
 mu4e-compose-keep-self-cc t
 <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">smtpmail-auth-credentials '(("smtp.gmail.com" 587 "che1234@umd.edu" nil))</span>
 <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">testing: removing all the folder def since I don't need</span>
 <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">it. Later will set folder shortcuts</span>
 mu4e-trash-folder <span style="color: #2d9574;">"/umd/trash"</span>
 mu4e-sent-folder <span style="color: #2d9574;">"/umd/[Gmail].All Mail"</span>
 mu4e-refile-folder <span style="color: #2d9574;">"/umd/[Gmail].All Mail"</span>
 mu4e-drafts-folder <span style="color: #2d9574;">"/umd/[Gmail].Drafts"</span>
<span style="color: #2aa1ae; background-color: #292e34;">; </span><span style="color: #2aa1ae; background-color: #292e34;">don't save message to Sent Messages, IMAP takes care of this</span>
 mu4e-maildir-shortcuts '<span style="color: #bc6ec5;">(</span> <span style="color: #2d9574;">(</span><span style="color: #2d9574;">"/umd/INBOX"</span>               . ?i<span style="color: #2d9574;">)</span>
                           <span style="color: #2d9574;">(</span><span style="color: #2d9574;">"/umd/[Gmail].Sent Mail"</span>   . ?s<span style="color: #2d9574;">)</span>
                           <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">only trash is named differently</span>
                           <span style="color: #2d9574;">(</span><span style="color: #2d9574;">"/umd/trash"</span>               . ?t<span style="color: #2d9574;">)</span>
                           <span style="color: #2d9574;">(</span><span style="color: #2d9574;">"/umd/[Gmail].Drafts"</span>      . ?d<span style="color: #2d9574;">)</span>
                           <span style="color: #2d9574;">(</span><span style="color: #2d9574;">"/umd/[Gmail].Starred"</span>     . ?*<span style="color: #2d9574;">)</span>
                           <span style="color: #2d9574;">(</span><span style="color: #2d9574;">"/umd/[Gmail].All Mail"</span>    . ?a<span style="color: #2d9574;">)</span>
                           <span style="color: #2d9574;">(</span><span style="color: #2d9574;">"/umd/f.Reference"</span>         . ?r<span style="color: #2d9574;">)</span>
                           <span style="color: #2d9574;">(</span><span style="color: #2d9574;">"/umd/f.Archive"</span>           . ?x<span style="color: #2d9574;">)</span>
                         <span style="color: #bc6ec5;">)</span>
 <span style="color: #4f97d7;">)</span>
</pre>
</div>

<p>
Reply from the same email as 'to':
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">a  list of user's e-mail addresses</span>
<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> mu4e-user-mail-address-list '<span style="color: #bc6ec5;">(</span><span style="color: #2d9574;">"che1234@umd.edu"</span> <span style="color: #2d9574;">"chongchong@astro.umd.edu"</span><span style="color: #bc6ec5;">)</span><span style="color: #4f97d7;">)</span>

<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(defun my-mu4e-set-account ()</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;   </span><span style="color: #2aa1ae; background-color: #292e34;">"Set the account for composing a message."</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;   </span><span style="color: #2aa1ae; background-color: #292e34;">(if mu4e-compose-parent-message</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;       </span><span style="color: #2aa1ae; background-color: #292e34;">(let ((mail (cdr (car (mu4e-message-field mu4e-compose-parent-message :to)))))</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;         </span><span style="color: #2aa1ae; background-color: #292e34;">(if (member mail mu4e-user-mail-address-list)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;             </span><span style="color: #2aa1ae; background-color: #292e34;">(setq user-mail-address mail)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;           </span><span style="color: #2aa1ae; background-color: #292e34;">(setq user-mail-address "che1234@umd.edu")))</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;     </span><span style="color: #2aa1ae; background-color: #292e34;">(helm :sources</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;           </span><span style="color: #2aa1ae; background-color: #292e34;">`((name . "Select account: ")</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;             </span><span style="color: #2aa1ae; background-color: #292e34;">(candidates . mu4e-user-mail-address-list)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;             </span><span style="color: #2aa1ae; background-color: #292e34;">(action . (lambda (candidate) (setq user-mail-address candidate)))))))</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(add-hook 'mu4e-compose-pre-hook 'my-mu4e-set-account)</span>

<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">Ref: https://www.djcbsoftware.nl/code/mu/mu4e/Compose-hooks.html</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">1) messages to me@foo.example.com should be replied with From:me@foo.example.com</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">2) messages to me@bar.example.com should be replied with From:me@bar.example.com</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">3) all other mail should use From:me@cuux.example.com</span>
<span style="color: #4f97d7;">(</span>add-hook 'mu4e-compose-pre-hook
        <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">defun</span> <span style="color: #bc6ec5; font-weight: bold;">my-set-from-address</span> <span style="color: #2d9574;">()</span>
            <span style="color: #2aa1ae;">"Set the From address based on the To address of the original."</span>
            <span style="color: #2d9574;">(</span><span style="color: #4f97d7; font-weight: bold;">let</span> <span style="color: #67b11d;">(</span><span style="color: #b1951d;">(</span>msg mu4e-compose-parent-message<span style="color: #b1951d;">)</span><span style="color: #67b11d;">)</span> <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">msg is shorter...</span>
            <span style="color: #67b11d;">(</span><span style="color: #4f97d7; font-weight: bold;">when</span> msg
                <span style="color: #b1951d;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> user-mail-address
                    <span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">cond</span>
                        <span style="color: #bc6ec5;">(</span><span style="color: #2d9574;">(</span>mu4e-message-contact-field-matches msg <span style="color: #4f97d7;">:to</span> <span style="color: #2d9574;">"che1234@umd.edu"</span><span style="color: #2d9574;">)</span>
                        <span style="color: #2d9574;">"che1234@umd.edu"</span><span style="color: #bc6ec5;">)</span>
                        <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">((mu4e-message-contact-field-matches msg :to "che1234@terpmail.umd.edu")</span>
                        <span style="color: #2aa1ae; background-color: #292e34;">;;  </span><span style="color: #2aa1ae; background-color: #292e34;">"che1234@terpmail.umd.edu")</span>
                        <span style="color: #bc6ec5;">(</span><span style="color: #2d9574;">(</span>mu4e-message-contact-field-matches msg <span style="color: #4f97d7;">:to</span> <span style="color: #2d9574;">"chongchong@astro.umd.edu"</span><span style="color: #2d9574;">)</span>
                        <span style="color: #2d9574;">"chongchong@astro.umd.edu"</span><span style="color: #bc6ec5;">)</span>
                        <span style="color: #bc6ec5;">(</span>t <span style="color: #2d9574;">"che1234@umd.edu"</span><span style="color: #bc6ec5;">)</span><span style="color: #4f97d7;">)</span><span style="color: #b1951d;">)</span><span style="color: #67b11d;">)</span><span style="color: #2d9574;">)</span><span style="color: #bc6ec5;">)</span><span style="color: #4f97d7;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgbc59c8f" class="outline-4">
<h4 id="orgbc59c8f"><span class="section-number-4">6.3.2</span> Multiple accounts</h4>
<div class="outline-text-4" id="text-6-3-2">
<p>
Not in use. <code>:tangle no</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">Outlook and gmail contexts</span>
<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> mu4e-contexts
      `<span style="color: #bc6ec5;">(</span>
        ,<span style="color: #2d9574;">(</span>make-mu4e-context
          <span style="color: #4f97d7;">:name</span> <span style="color: #2d9574;">"astro"</span>
          <span style="color: #4f97d7;">:enter-func</span> <span style="color: #67b11d;">(</span><span style="color: #4f97d7; font-weight: bold;">lambda</span> <span style="color: #b1951d;">()</span> <span style="color: #b1951d;">(</span>mu4e-message <span style="color: #2d9574;">"Entering the umdastro context"</span><span style="color: #b1951d;">)</span><span style="color: #67b11d;">)</span>
          <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">:leave-func (lambda () (mu4e-message "Leaving umdastro context"))</span>
          <span style="color: #4f97d7;">:leave-func</span> <span style="color: #67b11d;">(</span><span style="color: #4f97d7; font-weight: bold;">lambda</span> <span style="color: #b1951d;">()</span> <span style="color: #b1951d;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span>
                                  mu4e-maildir-list nil
                                  mu4e~contacts nil<span style="color: #b1951d;">)</span><span style="color: #67b11d;">)</span>
          <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">we match based on the maildir of the message</span>
          <span style="color: #4f97d7;">:match-func</span> <span style="color: #67b11d;">(</span><span style="color: #4f97d7; font-weight: bold;">lambda</span> <span style="color: #b1951d;">(</span>msg<span style="color: #b1951d;">)</span>
                        <span style="color: #b1951d;">(</span><span style="color: #4f97d7; font-weight: bold;">when</span> msg
                          <span style="color: #4f97d7;">(</span>string-match-p <span style="color: #2d9574;">"^/umdastro"</span> <span style="color: #bc6ec5;">(</span>mu4e-message-field msg <span style="color: #4f97d7;">:maildir</span><span style="color: #bc6ec5;">)</span><span style="color: #4f97d7;">)</span><span style="color: #b1951d;">)</span><span style="color: #67b11d;">)</span>
          <span style="color: #4f97d7;">:vars</span> '<span style="color: #67b11d;">(</span> <span style="color: #b1951d;">(</span> user-mail-address . <span style="color: #2d9574;">"chongchong@astro.umd.edu"</span> <span style="color: #b1951d;">)</span>
                   <span style="color: #b1951d;">(</span> user-full-name . <span style="color: #2d9574;">"ChongChong He"</span> <span style="color: #b1951d;">)</span>
                   <span style="color: #b1951d;">(</span> smtpmail-smtp-user . <span style="color: #2d9574;">"chongchong"</span> <span style="color: #b1951d;">)</span>
                   <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">( smtpmail-default-smtp-server . "gaia.astro.umd.edu" )</span>
                   <span style="color: #b1951d;">(</span> smtpmail-smtp-server . <span style="color: #2d9574;">"mailhost.astro.umd.edu"</span> <span style="color: #b1951d;">)</span>
                   <span style="color: #b1951d;">(</span> mu4e-trash-folder . <span style="color: #2d9574;">"/umdastro/Trash"</span> <span style="color: #b1951d;">)</span>
                   <span style="color: #b1951d;">(</span> mu4e-refile-folder . <span style="color: #2d9574;">"/umdastro/Archive"</span> <span style="color: #b1951d;">)</span>
                   <span style="color: #b1951d;">(</span> mu4e-drafts-folder . <span style="color: #2d9574;">"/umdastro/Drafts"</span> <span style="color: #b1951d;">)</span>
                   <span style="color: #b1951d;">(</span> mu4e-sent-folder . <span style="color: #2d9574;">"/umdastro/Sent Messages"</span> <span style="color: #b1951d;">)</span>
                   <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">Save message to Sent Messages, astro IMAP server fails to take care of this</span>
                   <span style="color: #b1951d;">(</span> mu4e-sent-messages-behavior . sent<span style="color: #b1951d;">)</span>
                   <span style="color: #b1951d;">(</span> mu4e-maildir-shortcuts . <span style="color: #4f97d7;">(</span><span style="color: #bc6ec5;">(</span><span style="color: #2d9574;">"/umdastro/INBOX"</span>         . ?i<span style="color: #bc6ec5;">)</span>
                                               <span style="color: #bc6ec5;">(</span><span style="color: #2d9574;">"/umdastro/Sent Messages"</span> . ?s<span style="color: #bc6ec5;">)</span>
                                               <span style="color: #bc6ec5;">(</span><span style="color: #2d9574;">"/umdastro/Trash"</span>         . ?t<span style="color: #bc6ec5;">)</span>
                                               <span style="color: #bc6ec5;">(</span><span style="color: #2d9574;">"/umdastro/Archive"</span>       . ?a<span style="color: #bc6ec5;">)</span>
                                               <span style="color: #bc6ec5;">(</span><span style="color: #2d9574;">"/umdastro/Drafts"</span>        . ?d<span style="color: #bc6ec5;">)</span>
                                               <span style="color: #2aa1ae; background-color: #292e34;">;;          </span><span style="color: #2aa1ae; background-color: #292e34;">("/Reference"           . ?r)</span>
                                               <span style="color: #2aa1ae; background-color: #292e34;">;;          </span><span style="color: #2aa1ae; background-color: #292e34;">;; ("/Waiting"             . ?w)</span>
                                               <span style="color: #2aa1ae; background-color: #292e34;">;;          </span><span style="color: #2aa1ae; background-color: #292e34;">;; ("/Action Items"        . ?c)</span>
                                               <span style="color: #4f97d7;">)</span><span style="color: #b1951d;">)</span>
                   <span style="color: #67b11d;">)</span><span style="color: #2d9574;">)</span>
        ,<span style="color: #2d9574;">(</span>make-mu4e-context
          <span style="color: #4f97d7;">:name</span> <span style="color: #2d9574;">"terpmail"</span>
          <span style="color: #4f97d7;">:enter-func</span> <span style="color: #67b11d;">(</span><span style="color: #4f97d7; font-weight: bold;">lambda</span> <span style="color: #b1951d;">()</span> <span style="color: #b1951d;">(</span>mu4e-message <span style="color: #2d9574;">"Entering terpmail context"</span><span style="color: #b1951d;">)</span><span style="color: #67b11d;">)</span>
          <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">:leave-func (lambda () (mu4e-message "Leaving terpmail context"))</span>
          <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">:leave-func (lambda ()</span>
          <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">   (setq mu4e-maildir-list nil)</span>
          <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">   (mu4e-message "Leaving terpmail context"))</span>
          <span style="color: #4f97d7;">:leave-func</span> <span style="color: #67b11d;">(</span><span style="color: #4f97d7; font-weight: bold;">lambda</span> <span style="color: #b1951d;">()</span> <span style="color: #b1951d;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span>
                                  mu4e-maildir-list nil
                                  mu4e~contacts nil<span style="color: #b1951d;">)</span><span style="color: #67b11d;">)</span>
          <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">we match based on the maildir of the message</span>
          <span style="color: #4f97d7;">:match-func</span> <span style="color: #67b11d;">(</span><span style="color: #4f97d7; font-weight: bold;">lambda</span> <span style="color: #b1951d;">(</span>msg<span style="color: #b1951d;">)</span>
                        <span style="color: #b1951d;">(</span><span style="color: #4f97d7; font-weight: bold;">when</span> msg
                          <span style="color: #4f97d7;">(</span>mu4e-message-contact-field-matches
                           msg '<span style="color: #bc6ec5;">(</span><span style="color: #4f97d7;">:from</span> <span style="color: #4f97d7;">:to</span> <span style="color: #4f97d7;">:cc</span> <span style="color: #4f97d7;">:bcc</span><span style="color: #bc6ec5;">)</span> <span style="color: #2d9574;">"che1234@terpmail.umd.edu"</span><span style="color: #4f97d7;">)</span>
                          <span style="color: #4f97d7;">(</span>mu4e-message-contact-field-matches
                           msg '<span style="color: #bc6ec5;">(</span><span style="color: #4f97d7;">:from</span> <span style="color: #4f97d7;">:to</span> <span style="color: #4f97d7;">:cc</span> <span style="color: #4f97d7;">:bcc</span><span style="color: #bc6ec5;">)</span> <span style="color: #2d9574;">"che1234@umd.edu"</span><span style="color: #4f97d7;">)</span>
                          <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(string-match-p "^/terpmail" (mu4e-message-field msg :maildir))</span>
                          <span style="color: #b1951d;">)</span><span style="color: #67b11d;">)</span>
          <span style="color: #4f97d7;">:vars</span> '<span style="color: #67b11d;">(</span> <span style="color: #b1951d;">(</span> user-mail-address . <span style="color: #2d9574;">"che1234@terpmail.umd.edu"</span> <span style="color: #b1951d;">)</span>
                   <span style="color: #b1951d;">(</span> smtpmail-smtp-user . <span style="color: #2d9574;">"che1234@terpmail.umd.edu"</span><span style="color: #b1951d;">)</span>
                   <span style="color: #b1951d;">(</span> smtpmail-smtp-server . <span style="color: #2d9574;">"smtp.gmail.com"</span> <span style="color: #b1951d;">)</span>
                   <span style="color: #b1951d;">(</span> smtpmail-smtp-service . <span style="color: #a45bad;">587</span><span style="color: #b1951d;">)</span>
                   <span style="color: #b1951d;">(</span> smtpmail-starttls-credentials . <span style="color: #4f97d7;">(</span><span style="color: #bc6ec5;">(</span><span style="color: #2d9574;">"smtp.gmail.com"</span> <span style="color: #a45bad;">587</span> nil nil<span style="color: #bc6ec5;">)</span><span style="color: #4f97d7;">)</span><span style="color: #b1951d;">)</span>
                   <span style="color: #b1951d;">(</span> smtpmail-auth-credentials . <span style="color: #4f97d7;">(</span>expand-file-name <span style="color: #2d9574;">"~/.authinfo.gpg"</span><span style="color: #4f97d7;">)</span><span style="color: #b1951d;">)</span>
                   <span style="color: #b1951d;">(</span> user-full-name . <span style="color: #2d9574;">"ChongChong He"</span> <span style="color: #b1951d;">)</span>
                   <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">testing: removing all the folder def since I don't need</span>
                   <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">it. Later will set folder shortcuts</span>
                   <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">???? </span><span style="color: #cc9393;">TODO</span><span style="color: #2aa1ae; background-color: #292e34;">, where is trash?</span>
                   <span style="color: #b1951d;">(</span> mu4e-trash-folder . <span style="color: #2d9574;">"/terpmail/trash"</span> <span style="color: #b1951d;">)</span>
                   <span style="color: #b1951d;">(</span> mu4e-sent-folder . <span style="color: #2d9574;">"/terpmail/[Gmail].All Mail"</span> <span style="color: #b1951d;">)</span>
                   <span style="color: #b1951d;">(</span> mu4e-refile-folder . <span style="color: #2d9574;">"/terpmail/[Gmail].All Mail"</span> <span style="color: #b1951d;">)</span>
                   <span style="color: #b1951d;">(</span> mu4e-drafts-folder . <span style="color: #2d9574;">"/terpmail/[Gmail].Drafts"</span> <span style="color: #b1951d;">)</span>
                   <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">don't save message to Sent Messages, IMAP takes care of this</span>
                   <span style="color: #b1951d;">(</span> mu4e-sent-messages-behavior . delete<span style="color: #b1951d;">)</span>
                   <span style="color: #b1951d;">(</span> mu4e-maildir-shortcuts . <span style="color: #4f97d7;">(</span><span style="color: #bc6ec5;">(</span><span style="color: #2d9574;">"/terpmail/INBOX"</span>               . ?i<span style="color: #bc6ec5;">)</span>
                                               <span style="color: #bc6ec5;">(</span><span style="color: #2d9574;">"/terpmail/[Gmail].Sent Mail"</span>   . ?s<span style="color: #bc6ec5;">)</span>
                                               <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">only trash is named differently</span>
                                               <span style="color: #bc6ec5;">(</span><span style="color: #2d9574;">"/terpmail/trash"</span>               . ?t<span style="color: #bc6ec5;">)</span>
                                               <span style="color: #bc6ec5;">(</span><span style="color: #2d9574;">"/terpmail/[Gmail].Starred"</span>     . ?r<span style="color: #bc6ec5;">)</span>
                                               <span style="color: #bc6ec5;">(</span><span style="color: #2d9574;">"/terpmail/[Gmail].All Mail"</span>    . ?a<span style="color: #bc6ec5;">)</span><span style="color: #4f97d7;">)</span><span style="color: #b1951d;">)</span>
                   <span style="color: #67b11d;">)</span><span style="color: #2d9574;">)</span>
        ,<span style="color: #2d9574;">(</span>make-mu4e-context
          <span style="color: #4f97d7;">:name</span> <span style="color: #2d9574;">"umd"</span>
          <span style="color: #4f97d7;">:enter-func</span> <span style="color: #67b11d;">(</span><span style="color: #4f97d7; font-weight: bold;">lambda</span> <span style="color: #b1951d;">()</span> <span style="color: #b1951d;">(</span>mu4e-message <span style="color: #2d9574;">"Entering umd context"</span><span style="color: #b1951d;">)</span><span style="color: #67b11d;">)</span>
          <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">:leave-func (lambda () (mu4e-message "Leaving terpmail context"))</span>
          <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">:leave-func (lambda ()</span>
          <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">   (setq mu4e-maildir-list nil)</span>
          <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">   (mu4e-message "Leaving terpmail context"))</span>
          <span style="color: #4f97d7;">:leave-func</span> <span style="color: #67b11d;">(</span><span style="color: #4f97d7; font-weight: bold;">lambda</span> <span style="color: #b1951d;">()</span> <span style="color: #b1951d;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span>
                                  mu4e-maildir-list nil
                                  mu4e~contacts nil<span style="color: #b1951d;">)</span><span style="color: #67b11d;">)</span>
          <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">we match based on the maildir of the message</span>
          <span style="color: #4f97d7;">:match-func</span> <span style="color: #67b11d;">(</span><span style="color: #4f97d7; font-weight: bold;">lambda</span> <span style="color: #b1951d;">(</span>msg<span style="color: #b1951d;">)</span>
                        <span style="color: #b1951d;">(</span><span style="color: #4f97d7; font-weight: bold;">when</span> msg
                          <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(mu4e-message-contact-field-matches</span>
                          <span style="color: #2aa1ae; background-color: #292e34;">;;  </span><span style="color: #2aa1ae; background-color: #292e34;">msg '(:from :to :cc :bcc) "che1234@umd.edu")</span>
                          <span style="color: #4f97d7;">(</span>string-match-p <span style="color: #2d9574;">"^/umd"</span> <span style="color: #bc6ec5;">(</span>mu4e-message-field msg <span style="color: #4f97d7;">:maildir</span><span style="color: #bc6ec5;">)</span><span style="color: #4f97d7;">)</span>
                          <span style="color: #b1951d;">)</span><span style="color: #67b11d;">)</span>
          <span style="color: #4f97d7;">:vars</span> '<span style="color: #67b11d;">(</span> <span style="color: #b1951d;">(</span> user-mail-address . <span style="color: #2d9574;">"che1234@umd.edu"</span> <span style="color: #b1951d;">)</span>
                   <span style="color: #b1951d;">(</span> smtpmail-smtp-user . <span style="color: #2d9574;">"che1234@umd.edu"</span><span style="color: #b1951d;">)</span>
                   <span style="color: #b1951d;">(</span> smtpmail-smtp-server . <span style="color: #2d9574;">"smtp.gmail.com"</span> <span style="color: #b1951d;">)</span>
                   <span style="color: #b1951d;">(</span> smtpmail-smtp-service . <span style="color: #a45bad;">587</span><span style="color: #b1951d;">)</span>
                   <span style="color: #b1951d;">(</span> smtpmail-starttls-credentials . <span style="color: #4f97d7;">(</span><span style="color: #bc6ec5;">(</span><span style="color: #2d9574;">"smtp.gmail.com"</span> <span style="color: #a45bad;">587</span> nil nil<span style="color: #bc6ec5;">)</span><span style="color: #4f97d7;">)</span><span style="color: #b1951d;">)</span>
                   <span style="color: #b1951d;">(</span> smtpmail-auth-credentials . <span style="color: #4f97d7;">(</span>expand-file-name <span style="color: #2d9574;">"~/.authinfo.gpg"</span><span style="color: #4f97d7;">)</span><span style="color: #b1951d;">)</span>
                   <span style="color: #b1951d;">(</span> user-full-name . <span style="color: #2d9574;">"ChongChong He"</span> <span style="color: #b1951d;">)</span>
                   <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">testing: removing all the folder def since I don't need</span>
                   <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">it. Later will set folder shortcuts</span>
                   <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">???? </span><span style="color: #cc9393;">TODO</span><span style="color: #2aa1ae; background-color: #292e34;">, where is trash?</span>
                   <span style="color: #b1951d;">(</span> mu4e-trash-folder . <span style="color: #2d9574;">"/umd/trash"</span> <span style="color: #b1951d;">)</span>
                   <span style="color: #b1951d;">(</span> mu4e-sent-folder . <span style="color: #2d9574;">"/umd/[Gmail].All Mail"</span> <span style="color: #b1951d;">)</span>
                   <span style="color: #b1951d;">(</span> mu4e-refile-folder . <span style="color: #2d9574;">"/umd/[Gmail].All Mail"</span> <span style="color: #b1951d;">)</span>
                   <span style="color: #b1951d;">(</span> mu4e-drafts-folder . <span style="color: #2d9574;">"/umd/[Gmail].Drafts"</span> <span style="color: #b1951d;">)</span>
                   <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">don't save message to Sent Messages, IMAP takes care of this</span>
                   <span style="color: #b1951d;">(</span> mu4e-sent-messages-behavior . delete<span style="color: #b1951d;">)</span>
                   <span style="color: #b1951d;">(</span> mu4e-maildir-shortcuts . <span style="color: #4f97d7;">(</span><span style="color: #bc6ec5;">(</span><span style="color: #2d9574;">"/umd/INBOX"</span>               . ?i<span style="color: #bc6ec5;">)</span>
                                               <span style="color: #bc6ec5;">(</span><span style="color: #2d9574;">"/umd/[Gmail].Sent Mail"</span>   . ?s<span style="color: #bc6ec5;">)</span>
                                               <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">only trash is named differently</span>
                                               <span style="color: #bc6ec5;">(</span><span style="color: #2d9574;">"/umd/trash"</span>               . ?t<span style="color: #bc6ec5;">)</span>
                                               <span style="color: #bc6ec5;">(</span><span style="color: #2d9574;">"/umd/[Gmail].Starred"</span>     . ?r<span style="color: #bc6ec5;">)</span>
                                               <span style="color: #bc6ec5;">(</span><span style="color: #2d9574;">"/umd/[Gmail].All Mail"</span>    . ?a<span style="color: #bc6ec5;">)</span><span style="color: #4f97d7;">)</span><span style="color: #b1951d;">)</span>
                   <span style="color: #67b11d;">)</span><span style="color: #2d9574;">)</span>
        <span style="color: #bc6ec5;">)</span><span style="color: #4f97d7;">)</span>
</pre>
</div>

<p>
(Not in use since I'm not using contexts) After switching to contexts,
address autocompletion stopped working as
<code>mu4e-compose-complete-only-personal</code> is somehow set to <code>t</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> mu4e-compose-complete-only-personal nil<span style="color: #4f97d7;">)</span>
</pre>
</div>
</div>
</div>
</div>
</div>


<div id="outline-container-org99a9513" class="outline-2">
<h2 id="org99a9513"><span class="section-number-2">7</span> evil</h2>
<div class="outline-text-2" id="text-7">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4f97d7;">(</span>add-to-list 'load-path <span style="color: #2d9574;">"~/.emacs.d/evil"</span><span style="color: #4f97d7;">)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">This should give you org-mode Tab functionality back. Ref:</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">https://stackoverflow.com/questions/22878668/emacs-org-mode-evil-mode-tab-key-not-working</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(setq evil-want-C-i-jump nil)</span>
<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">require</span> '<span style="color: #a45bad;">evil</span><span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">(</span>evil-mode <span style="color: #a45bad;">1</span><span style="color: #4f97d7;">)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">Use neotree with evil mode</span>
<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">evil-define-key</span> 'normal neotree-mode-map <span style="color: #bc6ec5;">(</span>kbd <span style="color: #2d9574;">"TAB"</span><span style="color: #bc6ec5;">)</span> 'neotree-enter<span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">evil-define-key</span> 'normal neotree-mode-map <span style="color: #bc6ec5;">(</span>kbd <span style="color: #2d9574;">"SPC"</span><span style="color: #bc6ec5;">)</span> 'neotree-quick-look<span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">evil-define-key</span> 'normal neotree-mode-map <span style="color: #bc6ec5;">(</span>kbd <span style="color: #2d9574;">"q"</span><span style="color: #bc6ec5;">)</span> 'neotree-hide<span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">evil-define-key</span> 'normal neotree-mode-map <span style="color: #bc6ec5;">(</span>kbd <span style="color: #2d9574;">"RET"</span><span style="color: #bc6ec5;">)</span> 'neotree-enter<span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">with-eval-after-load</span> 'evil
  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">defalias</span> #'forward-evil-word #'forward-evil-symbol<span style="color: #bc6ec5;">)</span><span style="color: #4f97d7;">)</span>

<span style="color: #2aa1ae; background-color: #292e34;">;;</span><span style="color: #2aa1ae; background-color: #292e34;">Exit insert mode by pressing j and then j quickly</span>
                                      <span style="color: #2aa1ae; background-color: #292e34;">; </span><span style="color: #2aa1ae; background-color: #292e34;">reference: https://stackoverflow.com/questions/10569165/how-to-map-jj-to-esc-in-emacs-evil-mode</span>
<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> key-chord-two-keys-delay <span style="color: #a45bad;">0.4</span><span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">(</span>key-chord-define evil-insert-state-map <span style="color: #2d9574;">"jj"</span> 'evil-normal-state<span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">(</span>key-chord-mode <span style="color: #a45bad;">1</span><span style="color: #4f97d7;">)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">Add key-chord-mode to minor-mode-alist</span>
<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">if</span> <span style="color: #bc6ec5;">(</span>not <span style="color: #2d9574;">(</span>assq 'key-chord-mode minor-mode-alist<span style="color: #2d9574;">)</span><span style="color: #bc6ec5;">)</span>
    <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> minor-mode-alist
          <span style="color: #2d9574;">(</span>cons '<span style="color: #67b11d;">(</span>key-chord-mode <span style="color: #2d9574;">" KeyC "</span><span style="color: #67b11d;">)</span>
                minor-mode-alist<span style="color: #2d9574;">)</span><span style="color: #bc6ec5;">)</span><span style="color: #4f97d7;">)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">Ref: https://stackoverflow.com/questions/20882935/how-to-move-between-visual-lines-and-move-past-newline-in-evil-mode</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">Make movement keys work like they should: instead of go to next</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">logical line, pressing 'j' leads to the next visual line</span>
<span style="color: #4f97d7;">(</span>define-key evil-normal-state-map <span style="color: #bc6ec5;">(</span>kbd <span style="color: #2d9574;">"&lt;remap&gt; &lt;evil-next-line&gt;"</span><span style="color: #bc6ec5;">)</span> 'evil-next-visual-line<span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">(</span>define-key evil-normal-state-map <span style="color: #bc6ec5;">(</span>kbd <span style="color: #2d9574;">"&lt;remap&gt; &lt;evil-previous-line&gt;"</span><span style="color: #bc6ec5;">)</span> 'evil-previous-visual-line<span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">(</span>define-key evil-motion-state-map <span style="color: #bc6ec5;">(</span>kbd <span style="color: #2d9574;">"&lt;remap&gt; &lt;evil-next-line&gt;"</span><span style="color: #bc6ec5;">)</span> 'evil-next-visual-line<span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">(</span>define-key evil-motion-state-map <span style="color: #bc6ec5;">(</span>kbd <span style="color: #2d9574;">"&lt;remap&gt; &lt;evil-previous-line&gt;"</span><span style="color: #bc6ec5;">)</span> 'evil-previous-visual-line<span style="color: #4f97d7;">)</span>
                                      <span style="color: #2aa1ae; background-color: #292e34;">; </span><span style="color: #2aa1ae; background-color: #292e34;">Make horizontal movement cross lines</span>
<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">setq-default</span> evil-cross-lines t<span style="color: #4f97d7;">)</span>
</pre>
</div>
</div>
</div>


<div id="outline-container-org8277535" class="outline-2">
<h2 id="org8277535"><span class="section-number-2">8</span> Langtool</h2>
<div class="outline-text-2" id="text-8">
<p>
DO NOT USE! Use sublime text instead. Open the current buffer in
sublime with <code>M-! subl filename &lt;Enter&gt;</code>. In sublime text 3, use the
shortcut <code>Shift+Ctrl+C</code> to start language tool. <code>Alt+Down</code> and
<code>Alt+Up</code> to navigate, <code>alt+shift+F</code> to apply suggested correction, and
<code>al+D</code> to ignore.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">defun</span> <span style="color: #bc6ec5; font-weight: bold;">my-langtool-config</span> <span style="color: #bc6ec5;">()</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">Check grammar after saving a text file with LanguageTools</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">https://alhassy.github.io/init/</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(use-package langtool</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;;   </span><span style="color: #2aa1ae; background-color: #292e34;">:config</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;;   </span><span style="color: #2aa1ae; background-color: #292e34;">(setq langtool-language-tool-jar</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;;         </span><span style="color: #2aa1ae; background-color: #292e34;">"~/local/LanguageTool-4.8/languagetool-commandline.jar")</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;;   </span><span style="color: #2aa1ae; background-color: #292e34;">(setq langtool-default-language "en-US")</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;;   </span><span style="color: #2aa1ae; background-color: #292e34;">)</span>

  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">https://simpleit.rocks/lisp/emacs/writing-in-emacs-checking-spelling-style-and-grammar/</span>
  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> langtool-language-tool-jar <span style="color: #2d9574;">"~/local/LanguageTool-4.8/languagetool-commandline.jar"</span><span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">require</span> '<span style="color: #a45bad;">langtool</span><span style="color: #bc6ec5;">)</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(add-hook 'markdown-mode-hook</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;;         </span><span style="color: #2aa1ae; background-color: #292e34;">(lambda ()</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;;            </span><span style="color: #2aa1ae; background-color: #292e34;">(add-hook 'after-save-hook 'langtool-check nil 'make-it-local)))</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(add-hook 'org-mode-hook</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;;         </span><span style="color: #2aa1ae; background-color: #292e34;">(lambda ()</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;;            </span><span style="color: #2aa1ae; background-color: #292e34;">(add-hook 'after-save-hook 'langtool-check nil 'make-it-local)))</span>

  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">Quickly check, correct, then clean up /region/ with M-^</span>
  <span style="color: #bc6ec5;">(</span>add-hook 'langtool-error-exists-hook
            <span style="color: #2d9574;">(</span><span style="color: #4f97d7; font-weight: bold;">lambda</span> <span style="color: #67b11d;">()</span>
              <span style="color: #67b11d;">(</span>langtool-correct-buffer<span style="color: #67b11d;">)</span>
              <span style="color: #67b11d;">(</span>langtool-check-done<span style="color: #67b11d;">)</span>
              <span style="color: #2d9574;">)</span><span style="color: #bc6ec5;">)</span>

  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">;; (global-set-key "\M-^" 'langtool-check)</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(global-set-key "\C-x4w" 'langtool-check)</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(global-set-key "\C-x4W" 'langtool-check-done)</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(global-set-key "\C-x4l" 'langtool-switch-default-language)</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(global-set-key "\C-x44" 'langtool-show-message-at-point)</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(global-set-key "\C-x4c" 'langtool-correct-buffer)</span>

  <span style="color: #bc6ec5;">(</span>global-set-key <span style="color: #2d9574;">"\C-cgw"</span> 'langtool-check<span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span>global-set-key <span style="color: #2d9574;">"\C-cgW"</span> 'langtool-check-done<span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span>global-set-key <span style="color: #2d9574;">"\C-cgc"</span> 'langtool-correct-buffer<span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span>global-set-key <span style="color: #2d9574;">"\C-cgn"</span> 'langtool-goto-next-error<span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span>global-set-key <span style="color: #2d9574;">"\C-cgp"</span> 'langtool-goto-previous-error<span style="color: #bc6ec5;">)</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(global-set-key "\C-x4l" 'langtool-switch-default-language)</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(global-set-key "\C-x44" 'langtool-show-message-at-point)</span>

  <span style="color: #4f97d7;">)</span>

</pre>
</div>
</div>
</div>


<div id="outline-container-org4792fa2" class="outline-2">
<h2 id="org4792fa2"><span class="section-number-2">9</span> Other configs</h2>
<div class="outline-text-2" id="text-9">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">defun</span> <span style="color: #bc6ec5; font-weight: bold;">my-flyspell-config</span> <span style="color: #bc6ec5;">()</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">easy spell check</span>
  <span style="color: #bc6ec5;">(</span>global-set-key <span style="color: #2d9574;">(</span>kbd <span style="color: #2d9574;">"&lt;f8&gt;"</span><span style="color: #2d9574;">)</span> 'ispell-word<span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span>global-set-key <span style="color: #2d9574;">(</span>kbd <span style="color: #2d9574;">"C-S-&lt;f8&gt;"</span><span style="color: #2d9574;">)</span> 'flyspell-mode<span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span>global-set-key <span style="color: #2d9574;">(</span>kbd <span style="color: #2d9574;">"C-M-&lt;f8&gt;"</span><span style="color: #2d9574;">)</span> 'flyspell-buffer<span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span>global-set-key <span style="color: #2d9574;">(</span>kbd <span style="color: #2d9574;">"C-&lt;f8&gt;"</span><span style="color: #2d9574;">)</span> 'flyspell-check-previous-highlighted-word<span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">defun</span> <span style="color: #bc6ec5; font-weight: bold;">flyspell-check-next-highlighted-word</span> <span style="color: #2d9574;">()</span>
    <span style="color: #2aa1ae;">"Custom function to spell check next highlighted word"</span>
    <span style="color: #2d9574;">(</span><span style="color: #4f97d7; font-weight: bold;">interactive</span><span style="color: #2d9574;">)</span>
    <span style="color: #2d9574;">(</span>flyspell-goto-next-error<span style="color: #2d9574;">)</span>
    <span style="color: #2d9574;">(</span>ispell-word<span style="color: #2d9574;">)</span>
    <span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span>global-set-key <span style="color: #2d9574;">(</span>kbd <span style="color: #2d9574;">"M-&lt;f8&gt;"</span><span style="color: #2d9574;">)</span> 'flyspell-check-next-highlighted-word<span style="color: #bc6ec5;">)</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">Enable flyspell mode for texts and flyspell-prog mode for C/Python...</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">https://stackoverflow.com/questions/15891808/how-to-enable-automatic-spell-check-by-default</span>
  <span style="color: #bc6ec5;">(</span>add-hook 'text-mode-hook 'flyspell-mode<span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span>add-hook 'prog-mode-hook 'flyspell-prog-mode<span style="color: #bc6ec5;">)</span>
  <span style="color: #4f97d7;">)</span>

<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">defun</span> <span style="color: #bc6ec5; font-weight: bold;">my-hs-config</span> <span style="color: #bc6ec5;">()</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(hs-minor-mode 1)</span>
  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">defun</span> <span style="color: #bc6ec5; font-weight: bold;">my-hideshow-config</span> <span style="color: #2d9574;">()</span>
    <span style="color: #2aa1ae;">"For use in 'hs-minor-mode-hook'."</span>
    <span style="color: #2aa1ae; background-color: #292e34;">;;</span><span style="color: #2aa1ae; background-color: #292e34;">(local-set-key (kbd "C-c p") 'hs-toggle-hiding)</span>
    <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(local-set-key (kbd "SPC") 'hs-toggle-hiding)</span>
    <span style="color: #2d9574;">(</span>local-set-key <span style="color: #67b11d;">(</span>kbd <span style="color: #2d9574;">"C-c h"</span><span style="color: #67b11d;">)</span> 'hs-hide-all<span style="color: #2d9574;">)</span>
    <span style="color: #2d9574;">(</span>local-set-key <span style="color: #67b11d;">(</span>kbd <span style="color: #2d9574;">"C-c s"</span><span style="color: #67b11d;">)</span> 'hs-show-all<span style="color: #2d9574;">)</span>
    <span style="color: #2d9574;">(</span>local-set-key <span style="color: #67b11d;">(</span>kbd <span style="color: #2d9574;">"C-c l"</span><span style="color: #67b11d;">)</span> 'hs-hide-level<span style="color: #2d9574;">)</span>
    <span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span>add-hook 'hs-minor-mode-hook 'my-hideshow-config<span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span>add-hook 'emacs-lisp-mode-hook 'hs-minor-mode<span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">evil-define-key</span> 'normal hs-minor-mode-map <span style="color: #2d9574;">(</span>kbd <span style="color: #2d9574;">"SPC"</span><span style="color: #2d9574;">)</span> 'hs-toggle-hiding<span style="color: #bc6ec5;">)</span>
  <span style="color: #4f97d7;">)</span>

<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(defun my-folding-mode-config ()</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;   </span><span style="color: #2aa1ae; background-color: #292e34;">;; https://www.emacswiki.org/emacs/FoldingMode#toc6</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;   </span><span style="color: #2aa1ae; background-color: #292e34;">(setq folding-default-keys-function</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;         </span><span style="color: #2aa1ae; background-color: #292e34;">'folding-bind-backward-compatible-keys)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;   </span><span style="color: #2aa1ae; background-color: #292e34;">(if (load "folding" 'nomessage 'noerror)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;       </span><span style="color: #2aa1ae; background-color: #292e34;">(folding-mode-add-find-file-hook))</span>

<span style="color: #2aa1ae; background-color: #292e34;">;;   </span><span style="color: #2aa1ae; background-color: #292e34;">;; The following is included in the default</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;   </span><span style="color: #2aa1ae; background-color: #292e34;">(folding-add-to-marks-list 'python-mode "#&lt;&lt;&lt;" "#&gt;&gt;&gt;" nil t)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;   </span><span style="color: #2aa1ae; background-color: #292e34;">(folding-add-to-marks-list 'LaTeX-mode "%{{{" "%}}}" nil t)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;   </span><span style="color: #2aa1ae; background-color: #292e34;">;; (folding-add-to-marks-list 'emacs-list-mode ";;{{{" ";;}}}" nil t) ; default?</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;   </span><span style="color: #2aa1ae; background-color: #292e34;">;; (add-hook 'folding-mode</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;   </span><span style="color: #2aa1ae; background-color: #292e34;">;;       '(local-set-key (kbd "&lt;F9&gt;") (kbd "C-c @ C-q"))</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;   </span><span style="color: #2aa1ae; background-color: #292e34;">;;       )</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;   </span><span style="color: #2aa1ae; background-color: #292e34;">)</span>

<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">defun</span> <span style="color: #bc6ec5; font-weight: bold;">my-python-config</span> <span style="color: #bc6ec5;">()</span>
  <span style="color: #bc6ec5;">(</span>elpy-enable<span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span>elpy-use-ipython<span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> elpy-rpc-backend <span style="color: #2d9574;">"jedi"</span><span style="color: #bc6ec5;">)</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">Disable elpy Vertical Guide Lines for Indentation</span>
  <span style="color: #bc6ec5;">(</span>add-hook 'elpy-mode-hook <span style="color: #2d9574;">(</span><span style="color: #4f97d7; font-weight: bold;">lambda</span> <span style="color: #67b11d;">()</span> <span style="color: #67b11d;">(</span>highlight-indentation-mode <span style="color: #a45bad;">-1</span><span style="color: #67b11d;">)</span><span style="color: #2d9574;">)</span><span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">when</span> <span style="color: #2d9574;">(</span><span style="color: #4f97d7; font-weight: bold;">require</span> '<span style="color: #a45bad;">flycheck</span> nil t<span style="color: #2d9574;">)</span>
    <span style="color: #2d9574;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> elpy-modules <span style="color: #67b11d;">(</span>delq 'elpy-module-flymake elpy-modules<span style="color: #67b11d;">)</span><span style="color: #2d9574;">)</span>
    <span style="color: #2d9574;">(</span>add-hook 'elpy-mode-hook 'flycheck-mode<span style="color: #2d9574;">)</span><span style="color: #bc6ec5;">)</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;;</span><span style="color: #2aa1ae; background-color: #292e34;">(require 'py-autopep8)</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(add-hook 'elpy-mode-hook) ;;'py-autopep8-enable-on-save)</span>
  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> python-shell-interpreter <span style="color: #2d9574;">"ipython"</span>
        python-shell-interpreter-args <span style="color: #2d9574;">"--simple-prompt -i"</span><span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span>define-key ein:notebook-mode-map <span style="color: #2d9574;">(</span>kbd <span style="color: #2d9574;">"C-c C-x d"</span><span style="color: #2d9574;">)</span>
    'ein:worksheet-delete-cell<span style="color: #bc6ec5;">)</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">Autoinsert Python comments</span>
  <span style="color: #bc6ec5;">(</span>global-set-key <span style="color: #2d9574;">(</span>kbd <span style="color: #2d9574;">"&lt;f5&gt;"</span><span style="color: #2d9574;">)</span> 'my-insert-comments<span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">defun</span> <span style="color: #bc6ec5; font-weight: bold;">my-insert-comments</span> <span style="color: #2d9574;">(</span>string<span style="color: #2d9574;">)</span>
    <span style="color: #2aa1ae;">"Insert </span><span style="color: #dc752f; background-color: #292b2e;">\</span><span style="color: #2aa1ae;">label{ARG} </span><span style="color: #dc752f; background-color: #292b2e;">\</span><span style="color: #2aa1ae;">index{\nameref{ARG}} at point"</span>
    <span style="color: #2d9574;">(</span><span style="color: #4f97d7; font-weight: bold;">interactive</span> <span style="color: #2d9574;">"sString for \\label and \\nameref: "</span><span style="color: #2d9574;">)</span>
    <span style="color: #2d9574;">(</span>insert <span style="color: #2d9574;">"##### "</span>  string  <span style="color: #2d9574;">" #####"</span><span style="color: #2d9574;">)</span><span style="color: #bc6ec5;">)</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;;</span><span style="color: #2aa1ae; background-color: #292e34;">(global-set-key (kbd "&lt;f6&gt;") 'my-insert-docstring)</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;;</span><span style="color: #2aa1ae; background-color: #292e34;">(defun my-insert-docstring (string)</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;;  </span><span style="color: #2aa1ae; background-color: #292e34;">"Insert \label{ARG} \index{\nameref{ARG}} at point"</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;;  </span><span style="color: #2aa1ae; background-color: #292e34;">(interactive "sString for \\label and \\nameref: ")</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;;  </span><span style="color: #2aa1ae; background-color: #292e34;">(insert '""" '  string  ' """'))</span>
  <span style="color: #bc6ec5;">(</span>add-hook 'python-mode-hook 'hs-minor-mode<span style="color: #bc6ec5;">)</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">jedi, replaced by (setq elpy-rpc-backend "jedi")</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(add-hook 'python-mode-hook 'jedi:setup)</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(setq jedi:complete-on-dot t)</span>
  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> elpy-rpc-ignored-buffer-size <span style="color: #a45bad;">204800</span><span style="color: #bc6ec5;">)</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">https://emacs.stackexchange.com/questions/36721/evil-mode-interacting-with-python-el-invoking-skeletons</span>
  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> python-skeleton-autoinsert nil<span style="color: #bc6ec5;">)</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">ref: https://www.webscalability.com/blog/2018/07/auto-insert-snippet-for-python-emacs/</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">insert python skeleton with auto-insert</span>
  <span style="color: #bc6ec5;">(</span>eval-after-load 'autoinsert
    '<span style="color: #2d9574;">(</span>define-auto-insert
       '<span style="color: #67b11d;">(</span><span style="color: #2d9574;">"\\.\\py\\'"</span> . <span style="color: #2d9574;">"python skeleton"</span><span style="color: #67b11d;">)</span>
       '<span style="color: #67b11d;">(</span><span style="color: #2d9574;">""</span>
         <span style="color: #2d9574;">"#!/usr/bin/env python"</span> \n
         <span style="color: #2d9574;">"\"\"\" "</span>
         <span style="color: #b1951d;">(</span>file-name-nondirectory <span style="color: #4f97d7;">(</span>buffer-file-name<span style="color: #4f97d7;">)</span><span style="color: #b1951d;">)</span> \n \n
         <span style="color: #2d9574;">"Author: Chong-Chong He (che1234@umd.edu)"</span> \n
         <span style="color: #2d9574;">"Written on "</span> <span style="color: #b1951d;">(</span>format-time-string <span style="color: #2d9574;">"%a, %e %b %Y."</span><span style="color: #b1951d;">)</span> \n
         <span style="color: #2d9574;">"\"\"\""</span> \n
         \n
         <span style="color: #2d9574;">"import numpy as np"</span> \n
         <span style="color: #2d9574;">"import matplotlib.pyplot as plt"</span> \n
         \n
         &gt; _ \n
         \n
         <span style="color: #2d9574;">"if __name__ == '__main__':"</span> \n
         <span style="color: #2d9574;">"pass"</span> \n \n<span style="color: #67b11d;">)</span><span style="color: #2d9574;">)</span><span style="color: #bc6ec5;">)</span>
  <span style="color: #4f97d7;">)</span>

<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">defun</span> <span style="color: #bc6ec5; font-weight: bold;">my-html-config</span> <span style="color: #bc6ec5;">()</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(setq sgml-quick-keys 'close)</span>
  <span style="color: #4f97d7;">)</span>

<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">defun</span> <span style="color: #bc6ec5; font-weight: bold;">my-CC++-config</span> <span style="color: #bc6ec5;">()</span>
  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">setq-default</span> c-basic-offset <span style="color: #a45bad;">4</span><span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span>add-hook 'c-mode-common-hook
            <span style="color: #2d9574;">(</span><span style="color: #4f97d7; font-weight: bold;">lambda</span> <span style="color: #67b11d;">()</span>
              <span style="color: #67b11d;">(</span><span style="color: #4f97d7; font-weight: bold;">when</span> <span style="color: #b1951d;">(</span><span style="color: #4f97d7; font-weight: bold;">and</span> <span style="color: #4f97d7;">(</span>derived-mode-p 'c-mode 'c++-mode 'java-mode<span style="color: #4f97d7;">)</span> <span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">require</span> '<span style="color: #a45bad;">ggtags</span> nil 'noerror<span style="color: #4f97d7;">)</span><span style="color: #b1951d;">)</span>
                <span style="color: #b1951d;">(</span>ggtags-mode <span style="color: #a45bad;">1</span><span style="color: #b1951d;">)</span><span style="color: #67b11d;">)</span>
              <span style="color: #67b11d;">(</span>global-set-key <span style="color: #b1951d;">(</span>kbd <span style="color: #2d9574;">"M-j"</span><span style="color: #b1951d;">)</span> 'windmove-down<span style="color: #67b11d;">)</span>
              <span style="color: #2d9574;">)</span><span style="color: #bc6ec5;">)</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(define-skeleton 'c++-throwaway</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;;   </span><span style="color: #2aa1ae; background-color: #292e34;">"Throwaway C skeleton"</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;;   </span><span style="color: #2aa1ae; background-color: #292e34;">nil</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;;   </span><span style="color: #2aa1ae; background-color: #292e34;">"#include &lt;iostream&gt;\n"</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;;   </span><span style="color: #2aa1ae; background-color: #292e34;">"#include &lt;string&gt;\n"</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;;   </span><span style="color: #2aa1ae; background-color: #292e34;">"#include &lt;fstream&gt;\n"</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;;   </span><span style="color: #2aa1ae; background-color: #292e34;">"\n"</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;;   </span><span style="color: #2aa1ae; background-color: #292e34;">"using namespace std;\n"</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;;   </span><span style="color: #2aa1ae; background-color: #292e34;">"\n"</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;;   </span><span style="color: #2aa1ae; background-color: #292e34;">"int main(void){\n"</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;;   </span><span style="color: #2aa1ae; background-color: #292e34;">"  \n"</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;;   </span><span style="color: #2aa1ae; background-color: #292e34;">"  return 0;\n"</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;;   </span><span style="color: #2aa1ae; background-color: #292e34;">"}\n")</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">'("\\.\\(CC?\\|cc\\|cxx\\|cpp\\|c++\\)\\'" . "C++-throwaway")</span>
  <span style="color: #bc6ec5;">(</span>eval-after-load 'autoinsert
    '<span style="color: #2d9574;">(</span>define-auto-insert
       '<span style="color: #67b11d;">(</span><span style="color: #2d9574;">"\\.</span><span style="color: #2d9574; font-weight: bold;">\\</span><span style="color: #2d9574; font-weight: bold;">(</span><span style="color: #2d9574;">CC?</span><span style="color: #2d9574; font-weight: bold;">\\</span><span style="color: #2d9574; font-weight: bold;">|</span><span style="color: #2d9574;">cc</span><span style="color: #2d9574; font-weight: bold;">\\</span><span style="color: #2d9574; font-weight: bold;">|</span><span style="color: #2d9574;">cxx</span><span style="color: #2d9574; font-weight: bold;">\\</span><span style="color: #2d9574; font-weight: bold;">|</span><span style="color: #2d9574;">cpp</span><span style="color: #2d9574; font-weight: bold;">\\</span><span style="color: #2d9574; font-weight: bold;">|</span><span style="color: #2d9574;">c++</span><span style="color: #2d9574; font-weight: bold;">\\</span><span style="color: #2d9574; font-weight: bold;">)</span><span style="color: #2d9574;">\\'"</span> . <span style="color: #2d9574;">"C++ skeleton"</span><span style="color: #67b11d;">)</span>
       '<span style="color: #67b11d;">(</span><span style="color: #2d9574;">"Short description: "</span>
         <span style="color: #2d9574;">"/*"</span> \n
         <span style="color: #b1951d;">(</span>file-name-nondirectory <span style="color: #4f97d7;">(</span>buffer-file-name<span style="color: #4f97d7;">)</span><span style="color: #b1951d;">)</span>
         <span style="color: #2d9574;">" -- "</span> str \n
         <span style="color: #2d9574;">" */"</span> &gt; \n \n
         <span style="color: #2d9574;">"#include &lt;iostream&gt;"</span> \n \n
         <span style="color: #2d9574;">"using namespace std;"</span> \n \n
         <span style="color: #2d9574;">"int main()"</span> \n
         <span style="color: #a45bad;">-4</span> <span style="color: #2d9574;">"{"</span> \n
         &gt; _ \n
         &gt; _ <span style="color: #2d9574;">"return 0;"</span> \n
         <span style="color: #a45bad;">-4</span> <span style="color: #2d9574;">"}"</span> &gt; \n<span style="color: #67b11d;">)</span><span style="color: #2d9574;">)</span><span style="color: #bc6ec5;">)</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">https://www.emacswiki.org/emacs/AutoInsertMode</span>
  <span style="color: #bc6ec5;">(</span>eval-after-load 'autoinsert
    '<span style="color: #2d9574;">(</span>define-auto-insert '<span style="color: #67b11d;">(</span><span style="color: #2d9574;">"\\.c\\'"</span> . <span style="color: #2d9574;">"C skeleton"</span><span style="color: #67b11d;">)</span>
       '<span style="color: #67b11d;">(</span>
         <span style="color: #2d9574;">"Short description: "</span>
         <span style="color: #2d9574;">"/**\n * "</span>
         <span style="color: #b1951d;">(</span>file-name-nondirectory <span style="color: #4f97d7;">(</span>buffer-file-name<span style="color: #4f97d7;">)</span><span style="color: #b1951d;">)</span>
         <span style="color: #2d9574;">" -- "</span> str \n
         <span style="color: #2d9574;">"*"</span> \n
         <span style="color: #2d9574;">"* Written on "</span> <span style="color: #b1951d;">(</span>format-time-string <span style="color: #2d9574;">"%a, %e %b %Y."</span><span style="color: #b1951d;">)</span> \n
         <span style="color: #2d9574;">"*/"</span> &gt; \n \n
         <span style="color: #2d9574;">"#include &lt;stdio.h&gt;"</span> \n
         \n
         <span style="color: #2d9574;">"int main()"</span> \n
         <span style="color: #2d9574;">"{"</span> &gt; \n
         &gt; _ \n
         <span style="color: #2d9574;">"}"</span> &gt; \n<span style="color: #67b11d;">)</span><span style="color: #2d9574;">)</span><span style="color: #bc6ec5;">)</span>
  <span style="color: #4f97d7;">)</span>

<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">defun</span> <span style="color: #bc6ec5; font-weight: bold;">my-fortran-config</span> <span style="color: #bc6ec5;">()</span>
  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">require</span> '<span style="color: #a45bad;">f90-namelist-mode</span><span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span>autoload 'f90-mode <span style="color: #2d9574;">"f90"</span> <span style="color: #2aa1ae;">"Fortran 90 mode"</span> t<span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">defun</span> <span style="color: #bc6ec5; font-weight: bold;">my-f90-mode-hook</span> <span style="color: #2d9574;">()</span>
    <span style="color: #2d9574;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> f90-font-lock-keywords f90-font-lock-keywords-3<span style="color: #2d9574;">)</span>
    <span style="color: #2d9574;">(</span>abbrev-mode <span style="color: #a45bad;">1</span><span style="color: #2d9574;">)</span>                       <span style="color: #2aa1ae; background-color: #292e34;">; </span><span style="color: #2aa1ae; background-color: #292e34;">turn on abbreviation mode</span>
    <span style="color: #2d9574;">(</span>turn-on-font-lock<span style="color: #2d9574;">)</span>                   <span style="color: #2aa1ae; background-color: #292e34;">; </span><span style="color: #2aa1ae; background-color: #292e34;">syntax highlighting</span>
    <span style="color: #2d9574;">(</span>auto-fill-mode <span style="color: #a45bad;">0</span><span style="color: #2d9574;">)</span><span style="color: #bc6ec5;">)</span>                   <span style="color: #2aa1ae; background-color: #292e34;">; </span><span style="color: #2aa1ae; background-color: #292e34;">turn off auto-filling</span>
  <span style="color: #bc6ec5;">(</span>add-hook 'f90-mode-hook 'my-f90-mode-hook<span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span>add-hook 'f90-mode-hook 'auto-fill-mode<span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span>add-to-list 'auto-mode-alist '<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"\\.f9\\'"</span> . f90-mode<span style="color: #2d9574;">)</span><span style="color: #bc6ec5;">)</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">From https://gist.github.com/aradi/68a4ff8430a735de13f13393213f0ea8</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;;</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">Add this settings to your ~/.emacs file</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;;</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">Fortran settings</span>
  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> fortran-continuation-string <span style="color: #2d9574;">"&amp;"</span><span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> fortran-do-indent <span style="color: #a45bad;">2</span><span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> fortran-if-indent <span style="color: #a45bad;">2</span><span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> fortran-structure-indent <span style="color: #a45bad;">2</span><span style="color: #bc6ec5;">)</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">Fortran 90 settings</span>
  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> f90-do-indent <span style="color: #a45bad;">2</span><span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> f90-if-indent <span style="color: #a45bad;">2</span><span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> f90-type-indent <span style="color: #a45bad;">2</span><span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> f90-program-indent <span style="color: #a45bad;">2</span><span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> f90-continuation-indent <span style="color: #a45bad;">4</span><span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> f90-smart-end 'blink<span style="color: #bc6ec5;">)</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">Set Fortran and Fortran 90 mode for appropriate extensions</span>
  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> auto-mode-alist
        <span style="color: #2d9574;">(</span>cons '<span style="color: #67b11d;">(</span><span style="color: #2d9574;">"\\.F90$"</span> . f90-mode<span style="color: #67b11d;">)</span> auto-mode-alist<span style="color: #2d9574;">)</span><span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> auto-mode-alist
        <span style="color: #2d9574;">(</span>cons '<span style="color: #67b11d;">(</span><span style="color: #2d9574;">"\\.pf$"</span> . f90-mode<span style="color: #67b11d;">)</span> auto-mode-alist<span style="color: #2d9574;">)</span><span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> auto-mode-alist
        <span style="color: #2d9574;">(</span>cons '<span style="color: #67b11d;">(</span><span style="color: #2d9574;">"\\.fpp$"</span> . f90-mode<span style="color: #67b11d;">)</span> auto-mode-alist<span style="color: #2d9574;">)</span><span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> auto-mode-alist
        <span style="color: #2d9574;">(</span>cons '<span style="color: #67b11d;">(</span><span style="color: #2d9574;">"\\.F$"</span> . fortran-mode<span style="color: #67b11d;">)</span> auto-mode-alist<span style="color: #2d9574;">)</span><span style="color: #bc6ec5;">)</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">Swap Return and C-j in Fortran 90 mode</span>
  <span style="color: #bc6ec5;">(</span>add-hook 'f90-mode-hook
            '<span style="color: #2d9574;">(</span>lambda <span style="color: #67b11d;">()</span>
               <span style="color: #67b11d;">(</span>define-key f90-mode-map <span style="color: #b1951d;">[</span>return<span style="color: #b1951d;">]</span> 'f90-indent-new-line<span style="color: #67b11d;">)</span>
               <span style="color: #67b11d;">(</span>define-key f90-mode-map <span style="color: #2d9574;">"\C-j"</span> 'newline<span style="color: #67b11d;">)</span>
               <span style="color: #67b11d;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> fill-column <span style="color: #a45bad;">100</span><span style="color: #67b11d;">)</span>
               <span style="color: #67b11d;">(</span>abbrev-mode<span style="color: #67b11d;">)</span>
               <span style="color: #67b11d;">(</span><span style="color: #4f97d7; font-weight: bold;">setq-default</span> indent-tabs-mode nil<span style="color: #67b11d;">)</span>
               <span style="color: #67b11d;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> whitespace-line-column <span style="color: #a45bad;">100</span><span style="color: #67b11d;">)</span>
               <span style="color: #67b11d;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> whitespace-style '<span style="color: #b1951d;">(</span>face tabs lines-tail empty<span style="color: #b1951d;">)</span><span style="color: #67b11d;">)</span>
               <span style="color: #67b11d;">(</span>whitespace-mode<span style="color: #67b11d;">)</span>
               <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(add-to-list 'write-file-functions 'delete-trailing-whitespace)</span>
               <span style="color: #2d9574;">)</span>
            <span style="color: #bc6ec5;">)</span>
  <span style="color: #4f97d7;">)</span>

<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">defun</span> <span style="color: #bc6ec5; font-weight: bold;">my-julia-config</span> <span style="color: #bc6ec5;">()</span>
  <span style="color: #bc6ec5;">(</span>add-to-list 'load-path <span style="color: #2d9574;">"~/.emacs.d/julia-emacs"</span><span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">require</span> '<span style="color: #a45bad;">julia-mode</span><span style="color: #bc6ec5;">)</span>
  <span style="color: #4f97d7;">)</span>

<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">defun</span> <span style="color: #bc6ec5; font-weight: bold;">my-yasnippet-config</span> <span style="color: #bc6ec5;">()</span>
  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">require</span> '<span style="color: #a45bad;">yasnippet</span><span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> yas-triggers-in-field t<span style="color: #bc6ec5;">)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;; </span><span style="color: #2aa1ae; background-color: #292e34;">https://superuser.com/questions/1006188/can-emacs-be-set-up-to-display-python-code-in-python-mode-and-display-docstrings</span>
                                        <span style="color: #2aa1ae; background-color: #292e34;">;</span><span style="color: #2aa1ae; background-color: #292e34;">(add-to-list 'load-path "~/.emacs.d/python-docstring-mode")</span>
                                        <span style="color: #2aa1ae; background-color: #292e34;">;</span><span style="color: #2aa1ae; background-color: #292e34;">(require 'python-docstring)</span>
                                        <span style="color: #2aa1ae; background-color: #292e34;">;</span><span style="color: #2aa1ae; background-color: #292e34;">(add-hook 'python-mode-hook (lambda () (python-docstring-mode t)))</span>
  <span style="color: #bc6ec5;">(</span>yas/initialize<span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span>yas/load-directory <span style="color: #2d9574;">"~/.emacs.d/snippets"</span><span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span>yas-minor-mode <span style="color: #a45bad;">1</span><span style="color: #bc6ec5;">)</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(defun my/autoinsert-yas-expand()</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;;   </span><span style="color: #2aa1ae; background-color: #292e34;">"Replace text in yasnippet template."</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;;   </span><span style="color: #2aa1ae; background-color: #292e34;">(yas/expand-snippet (buffer-string) (point-min) (point-max)))</span>
  <span style="color: #4f97d7;">)</span>

<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">defun</span> <span style="color: #bc6ec5; font-weight: bold;">my-other-config</span> <span style="color: #bc6ec5;">()</span>
  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">require</span> '<span style="color: #a45bad;">epa-file</span><span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span>epa-file-enable<span style="color: #bc6ec5;">)</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">tramp: speed up</span>
  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> tramp-shell-prompt-pattern <span style="color: #2d9574;">"^[</span><span style="color: #a45bad;">^</span><span style="color: #2d9574;">$&gt;\n]*[#$%&gt;] *</span><span style="color: #2d9574; font-weight: bold;">\\</span><span style="color: #2d9574; font-weight: bold;">(</span><span style="color: #dc752f; background-color: #292b2e;">\</span><span style="color: #2d9574;">[[0-9;]*[a-zA-Z] *</span><span style="color: #2d9574; font-weight: bold;">\\</span><span style="color: #2d9574; font-weight: bold;">)</span><span style="color: #2d9574;">*"</span><span style="color: #bc6ec5;">)</span>
  <span style="color: #4f97d7;">)</span>

<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">defun</span> <span style="color: #bc6ec5; font-weight: bold;">my-theme-config</span> <span style="color: #bc6ec5;">()</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">Customize solarized-light theme</span>

  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">make the fringe stand out from the background</span>
  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> solarized-distinct-fringe-background t<span style="color: #bc6ec5;">)</span>

  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">Don't change the font for some headings and titles</span>
  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> solarized-use-variable-pitch nil<span style="color: #bc6ec5;">)</span>

  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">make the modeline high contrast</span>
  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> solarized-high-contrast-mode-line t<span style="color: #bc6ec5;">)</span>

  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">Use less bolding</span>
  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> solarized-use-less-bold t<span style="color: #bc6ec5;">)</span>

  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">Use more italics</span>
  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> solarized-use-more-italic t<span style="color: #bc6ec5;">)</span>

  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">Use less colors for indicators such as git:gutter, flycheck and similar</span>
  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> solarized-emphasize-indicators nil<span style="color: #bc6ec5;">)</span>

  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">Don't change size of org-mode headlines (but keep other size-changes)</span>
  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> solarized-scale-org-headlines nil<span style="color: #bc6ec5;">)</span>

  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">Avoid all font-size changes</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(setq solarized-height-minus-1 1.0)</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(setq solarized-height-plus-1 1.0)</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(setq solarized-height-plus-2 1.0)</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(setq solarized-height-plus-3 1.0)</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(setq solarized-height-plus-4 1.0)</span>

  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(load-theme 'solarized-light t)</span>
  <span style="color: #bc6ec5;">(</span>load-theme 'gruvbox t<span style="color: #bc6ec5;">)</span>

  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">---------------------------------------------------------------</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(add-to-list 'custom-theme-load-path "~/.emacs.d/themes")</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(load-theme 'spolsky t)</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(set-face-attribute 'default nil :font "SF Mono 12")</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(set-face-attribute 'default nil :font "Source Code Pro 14")</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">set font size</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(set-face-attribute 'default (selected-frame) :height 150)</span>
  <span style="color: #bc6ec5;">(</span>set-face-attribute 'default nil <span style="color: #4f97d7;">:height</span> <span style="color: #a45bad;">150</span><span style="color: #bc6ec5;">)</span>

<span style="color: #2aa1ae; background-color: #292e34;">;;; </span><span style="color: #2aa1ae; background-color: #292e34;">right 2/3, two columns</span>
                                        <span style="color: #2aa1ae; background-color: #292e34;">;</span><span style="color: #2aa1ae; background-color: #292e34;">(set-face-attribute 'default (selected-frame) :height 122)</span>
                                        <span style="color: #2aa1ae; background-color: #292e34;">;</span><span style="color: #2aa1ae; background-color: #292e34;">(add-to-list 'default-frame-alist '(height . 71))</span>
                                        <span style="color: #2aa1ae; background-color: #292e34;">;</span><span style="color: #2aa1ae; background-color: #292e34;">(add-to-list 'default-frame-alist '(width . 177))</span>
                                        <span style="color: #2aa1ae; background-color: #292e34;">;</span><span style="color: #2aa1ae; background-color: #292e34;">(add-to-list 'default-frame-alist '(left . 784))</span>
                                        <span style="color: #2aa1ae; background-color: #292e34;">;</span><span style="color: #2aa1ae; background-color: #292e34;">(add-to-list 'default-frame-alist '(top . 0))</span>

  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">center, large, two columns</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(set-face-attribute 'default (selected-frame) :height 122)</span>
  <span style="color: #bc6ec5;">(</span>add-to-list 'default-frame-alist '<span style="color: #2d9574;">(</span>height . <span style="color: #a45bad;">68</span><span style="color: #2d9574;">)</span><span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span>add-to-list 'default-frame-alist '<span style="color: #2d9574;">(</span>width . <span style="color: #a45bad;">180</span><span style="color: #2d9574;">)</span><span style="color: #bc6ec5;">)</span>
                                        <span style="color: #2aa1ae; background-color: #292e34;">;</span><span style="color: #2aa1ae; background-color: #292e34;">(add-to-list 'default-frame-alist '(left . (- 0)))</span>
  <span style="color: #bc6ec5;">(</span>add-to-list 'default-frame-alist '<span style="color: #2d9574;">(</span>right . <span style="color: #a45bad;">0</span><span style="color: #2d9574;">)</span><span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span>add-to-list 'default-frame-alist '<span style="color: #2d9574;">(</span>top . <span style="color: #a45bad;">0</span><span style="color: #2d9574;">)</span><span style="color: #bc6ec5;">)</span>

  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">Customed theme, be careful. Just copy and paste</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">---------------------------------------------------------------</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(custom-set-faces</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;;  </span><span style="color: #2aa1ae; background-color: #292e34;">;; custom-set-faces was added by Custom.</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;;  </span><span style="color: #2aa1ae; background-color: #292e34;">;; If you edit it by hand, you could mess it up, so be careful.</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;;  </span><span style="color: #2aa1ae; background-color: #292e34;">;; Your init file should contain only one such instance.</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;;  </span><span style="color: #2aa1ae; background-color: #292e34;">;; If there is more than one, they won't work right.</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;;  </span><span style="color: #2aa1ae; background-color: #292e34;">'(default ((t (:inherit nil :stipple nil :background "#dcc7b4" :foreground "#1e1e1e" :vertical-boarder "#1e1e1e" :inverse-video nil :box nil :strike-through nil :overline nil :underline nil :slant normal :weight normal :height 274 :width normal :foundry "nil" :family "MONACO")))))</span>

  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">:background "#dcc7b4" :foreground "#1e1e1e"</span>

  <span style="color: #2aa1ae; background-color: #292e34;">;;  </span><span style="color: #2aa1ae; background-color: #292e34;">:background "#D4A984" :foreground "#38302B"</span>

  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">https://stackoverflow.com/questions/52521587/emacs-error-when-i-call-it-in-the-terminal</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;;</span><span style="color: #2aa1ae; background-color: #292e34;">(delete-file "~/Library/Colors/Unnamed 3.clr")</span>
  <span style="color: #4f97d7;">)</span>

<span style="color: #2aa1ae; background-color: #292e34;">;;;; </span><span style="color: #2aa1ae; background-color: #292e34;">Enable all the configs</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(my-general-config)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(my-evil-config)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(my-neotree-config)</span>
<span style="color: #4f97d7;">(</span>my-flyspell-config<span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">(</span>my-python-config<span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">(</span>my-hs-config<span style="color: #4f97d7;">)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(my-folding-mode-config)</span>
<span style="color: #4f97d7;">(</span>my-latex-config<span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">(</span>my-html-config<span style="color: #4f97d7;">)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(my-mu4e-config)</span>
<span style="color: #4f97d7;">(</span>my-CC++-config<span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">(</span>my-fortran-config<span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">(</span>my-julia-config<span style="color: #4f97d7;">)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(my-yasnippet-config)</span>
<span style="color: #4f97d7;">(</span>my-theme-config<span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">(</span>my-langtool-config<span style="color: #4f97d7;">)</span>

<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">defun</span> <span style="color: #bc6ec5; font-weight: bold;">test02</span> <span style="color: #bc6ec5;">()</span>
  <span style="color: #bc6ec5;">(</span>global-set-key <span style="color: #2d9574;">(</span>kbd <span style="color: #2d9574;">"&lt;f8&gt;"</span><span style="color: #2d9574;">)</span> 'back-to-indentation<span style="color: #bc6ec5;">)</span>
  <span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">(</span>test02<span style="color: #4f97d7;">)</span>

</pre>
</div>
</div>
</div>


<div id="outline-container-org75899bb" class="outline-2">
<h2 id="org75899bb"><span class="section-number-2">10</span> Latex</h2>
<div class="outline-text-2" id="text-10">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">defun</span> <span style="color: #bc6ec5; font-weight: bold;">my-latex-config</span> <span style="color: #bc6ec5;">()</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">---------------------------------------------------------------</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">AucTeX</span>
  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> TeX-auto-save t<span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> TeX-parse-self t<span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">setq-default</span> TeX-master nil<span style="color: #bc6ec5;">)</span> <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">Make emacs aware of multi-file projects</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">CDLaTeX</span>
  <span style="color: #bc6ec5;">(</span>add-hook 'LaTeX-mode-hook 'turn-on-cdlatex<span style="color: #bc6ec5;">)</span>   <span style="color: #2aa1ae; background-color: #292e34;">; </span><span style="color: #2aa1ae; background-color: #292e34;">with AUCTeX LaTeX mode</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(add-hook 'latex-mode-hook 'turn-on-cdlatex)   ; with Emacs latex mode</span>
  <span style="color: #bc6ec5;">(</span>autoload 'helm-bibtex <span style="color: #2d9574;">"helm-bibtex"</span> <span style="color: #2aa1ae;">""</span> t<span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span>electric-pair-mode<span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span>add-hook 'LaTeX-mode-hook
            '<span style="color: #2d9574;">(</span>lambda <span style="color: #67b11d;">()</span>
               <span style="color: #67b11d;">(</span>define-key LaTeX-mode-map <span style="color: #b1951d;">(</span>kbd <span style="color: #2d9574;">"$"</span><span style="color: #b1951d;">)</span> 'self-insert-command<span style="color: #67b11d;">)</span>
               <span style="color: #2d9574;">)</span><span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span>add-hook 'LaTeX-mode-hook 'turn-on-reftex<span style="color: #bc6ec5;">)</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(setq reftex-plug-into-auctex t)</span>
  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> reftex-plug-into-AUCTeX t<span style="color: #bc6ec5;">)</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(setq reftex-default-bibliography '("~/Dropbox/Bib_bibdesk.bib") )</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(setq helm-bibtex-bibliography '("~/Dropbox/Bib_bibdesk.bib") )</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(setq reftex-default-bibliography '("/Users/chongchonghe/Documents/bib_tmp.bib"))</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(setq helm-bibtex-bibliography '("/Users/chongchonghe/Documents/bib_tmp.bib"))</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">Enable the clicking feature of the sync</span>
  <span style="color: #bc6ec5;">(</span>add-hook 'LaTeX-mode-hook
            <span style="color: #2d9574;">(</span><span style="color: #4f97d7; font-weight: bold;">lambda</span> <span style="color: #67b11d;">()</span> <span style="color: #67b11d;">(</span>local-set-key <span style="color: #b1951d;">(</span>kbd <span style="color: #2d9574;">"&lt;S-s-mouse-1&gt;"</span><span style="color: #b1951d;">)</span> #'TeX-view<span style="color: #67b11d;">)</span><span style="color: #2d9574;">)</span>
            <span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> TeX-PDF-mode t<span style="color: #bc6ec5;">)</span>       <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">Compile documents to PDF by default</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">Use Skim as viewer, enable source &lt;-&gt; PDF sync</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">make latexmk available via C-c C-c</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">Note: SyncTeX is setup via ~/.latexmkrc (see below)</span>
  <span style="color: #bc6ec5;">(</span>add-hook 'LaTeX-mode-hook <span style="color: #2d9574;">(</span><span style="color: #4f97d7; font-weight: bold;">lambda</span> <span style="color: #67b11d;">()</span>
                               <span style="color: #67b11d;">(</span><span style="color: #4f97d7; font-weight: bold;">push</span>
                                '<span style="color: #b1951d;">(</span><span style="color: #2d9574;">"latexmk"</span> <span style="color: #2d9574;">"latexmk -pdf %s"</span> TeX-run-TeX nil t <span style="color: #4f97d7;">:help</span> <span style="color: #2d9574;">"Run latexmk on file"</span><span style="color: #b1951d;">)</span>
                                TeX-command-list<span style="color: #67b11d;">)</span><span style="color: #2d9574;">)</span><span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span>add-hook 'TeX-mode-hook '<span style="color: #2d9574;">(</span>lambda <span style="color: #67b11d;">()</span> <span style="color: #67b11d;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> TeX-command-default <span style="color: #2d9574;">"latexmk"</span><span style="color: #67b11d;">)</span><span style="color: #2d9574;">)</span><span style="color: #bc6ec5;">)</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">use Skim as default pdf viewer</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">Skim's displayline is used for forward search (from .tex to .pdf)</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">option -b highlights the current line; option -g opens Skim in the background</span>
  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> TeX-view-program-selection '<span style="color: #2d9574;">(</span><span style="color: #67b11d;">(</span>output-pdf <span style="color: #2d9574;">"PDF Viewer"</span><span style="color: #67b11d;">)</span><span style="color: #2d9574;">)</span><span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> TeX-view-program-list
        '<span style="color: #2d9574;">(</span><span style="color: #67b11d;">(</span><span style="color: #2d9574;">"PDF Viewer"</span> <span style="color: #2d9574;">"/Applications/Skim.app/Contents/SharedSupport/displayline -b -g %n %o %b"</span><span style="color: #67b11d;">)</span><span style="color: #2d9574;">)</span><span style="color: #bc6ec5;">)</span>

  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">start emacs in server mode so that skim can talk to it</span>
  <span style="color: #bc6ec5;">(</span>server-start<span style="color: #bc6ec5;">)</span>

  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">Auto-raise Emacs on activation</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">https://sourceforge.net/p/skim-app/wiki/TeX_and_PDF_Synchronization/</span>
  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">defun</span> <span style="color: #bc6ec5; font-weight: bold;">raise-emacs-on-aqua</span><span style="color: #2d9574;">()</span>
    <span style="color: #2d9574;">(</span>shell-command <span style="color: #2d9574;">"osascript -e 'tell application \"Emacs\" to activate' &amp;"</span><span style="color: #2d9574;">)</span><span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span>add-hook 'server-switch-hook 'raise-emacs-on-aqua<span style="color: #bc6ec5;">)</span>

  <span style="color: #bc6ec5;">(</span>add-hook 'LaTex-mode-hook 'LaTeX-math-mode<span style="color: #bc6ec5;">)</span>

  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">require</span> '<span style="color: #a45bad;">smartparens-config</span><span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span>add-hook 'LaTex-mode-hook #'smartparens-mode<span style="color: #bc6ec5;">)</span>

  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">keybindings</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(define-key outline-mode-map [M-left] 'outline-hide-body)</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(define-key outline-mode-map [M-right] 'outline-show-all)</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(define-key outline-mode-map [M-up] 'outline-previous-heading)</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(define-key outline-mode-map [M-down] 'outline-next-heading)</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(define-key outline-mode-map [C-M-left] 'outline-hide-sublevels)</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(define-key outline-mode-map [C-M-right] 'outline-show-children)</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(define-key outline-mode-map [C-M-up] 'outline-previous-visible-heading)</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(define-key outline-mode-map [C-M-down] 'outline-next-visible-heading)</span>

  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">defun</span> <span style="color: #bc6ec5; font-weight: bold;">turn-on-outline-minor-mode</span> <span style="color: #2d9574;">()</span> <span style="color: #2d9574;">(</span>outline-minor-mode <span style="color: #a45bad;">1</span><span style="color: #2d9574;">)</span><span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span>add-hook 'LaTeX-mode-hook 'turn-on-outline-minor-mode<span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span>add-hook 'latex-mode-hook 'turn-on-outline-minor-mode<span style="color: #bc6ec5;">)</span>

  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">defun</span> <span style="color: #bc6ec5; font-weight: bold;">turn-on-flycheck-mode</span> <span style="color: #2d9574;">()</span> <span style="color: #2d9574;">(</span>flycheck-mode <span style="color: #a45bad;">1</span><span style="color: #2d9574;">)</span><span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span>add-hook 'LaTeX-mode-hook 'turn-on-flycheck-mode<span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span>add-hook 'latex-mode-hook 'turn-on-flycheck-mode<span style="color: #bc6ec5;">)</span>

  <span style="color: #bc6ec5;">(</span>global-set-key <span style="color: #2d9574;">[</span>M-left<span style="color: #2d9574;">]</span> 'outline-hide-body<span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span>global-set-key <span style="color: #2d9574;">[</span>M-right<span style="color: #2d9574;">]</span> 'outline-show-all<span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span>global-set-key <span style="color: #2d9574;">[</span>M-up<span style="color: #2d9574;">]</span> 'outline-previous-heading<span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span>global-set-key <span style="color: #2d9574;">[</span>M-down<span style="color: #2d9574;">]</span> 'outline-next-heading<span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span>global-set-key <span style="color: #2d9574;">[</span>C-M-left<span style="color: #2d9574;">]</span> 'outline-hide-sublevels<span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span>global-set-key <span style="color: #2d9574;">[</span>C-M-right<span style="color: #2d9574;">]</span> 'outline-show-children<span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span>global-set-key <span style="color: #2d9574;">[</span>C-M-up<span style="color: #2d9574;">]</span> 'outline-previous-visible-heading<span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span>global-set-key <span style="color: #2d9574;">[</span>C-M-down<span style="color: #2d9574;">]</span> 'outline-next-visible-heading<span style="color: #bc6ec5;">)</span>

  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> TeX-save-query nil<span style="color: #bc6ec5;">)</span>

  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">evil-define-key</span> 'normal outline-minor-mode-map <span style="color: #2d9574;">(</span>kbd <span style="color: #2d9574;">"SPC"</span><span style="color: #2d9574;">)</span> 'evil-toggle-fold<span style="color: #bc6ec5;">)</span>
                                        <span style="color: #2aa1ae; background-color: #292e34;">;</span><span style="color: #2aa1ae; background-color: #292e34;">(evil-define-key 'normal latex-mode-map (kbd ", l") 'TeX-command-master)</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(evil-define-key 'normal LaTeX-mode-map (kbd ", l") 'TeX-command-master)</span>
  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">evil-define-key</span> 'normal LaTeX-mode-map <span style="color: #2d9574;">(</span>kbd <span style="color: #2d9574;">", l"</span><span style="color: #2d9574;">)</span> 'TeX-command-run-all<span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">evil-define-key</span> 'normal LaTeX-mode-map <span style="color: #2d9574;">(</span>kbd <span style="color: #2d9574;">", v"</span><span style="color: #2d9574;">)</span> 'TeX-view<span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">evil-define-key</span> 'normal LaTeX-mode-map <span style="color: #2d9574;">(</span>kbd <span style="color: #2d9574;">"M-w"</span><span style="color: #2d9574;">)</span> 'LaTeX-fill-region<span style="color: #bc6ec5;">)</span>

  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">;; (setq TeX-command-force "XeLaTeX")</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(setq TeX-command-force "latexmk")</span>

  <span style="color: #2aa1ae; background-color: #292e34;">;;</span>
  <span style="color: #bc6ec5;">(</span>add-hook 'LaTeX-mode-hook #'visual-line-mode<span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">defun</span> <span style="color: #bc6ec5; font-weight: bold;">disable-auto-fill-mode</span> <span style="color: #2d9574;">()</span> <span style="color: #2d9574;">(</span>auto-fill-mode <span style="color: #a45bad;">-1</span><span style="color: #2d9574;">)</span><span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span>add-hook 'LaTeX-mode-hook 'disable-auto-fill-mode<span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span>add-hook 'LaTeX-mode-hook
            <span style="color: #2d9574;">(</span><span style="color: #4f97d7; font-weight: bold;">lambda</span><span style="color: #67b11d;">()</span>
              <span style="color: #67b11d;">(</span>local-set-key <span style="color: #b1951d;">[</span>C-tab<span style="color: #b1951d;">]</span> 'TeX-complete-symbol<span style="color: #67b11d;">)</span><span style="color: #2d9574;">)</span><span style="color: #bc6ec5;">)</span>
  <span style="color: #4f97d7;">)</span>
</pre>
</div>
</div>
</div>


<div id="outline-container-org2812301" class="outline-2">
<h2 id="org2812301"><span class="section-number-2">11</span> Neotree</h2>
<div class="outline-text-2" id="text-11">
<p>
Use M-x package-list-packages to install neotree before applying this config.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">defun</span> <span style="color: #bc6ec5; font-weight: bold;">my-neotree-mode-config</span> <span style="color: #bc6ec5;">()</span>
  <span style="color: #2aa1ae;">"For use in 'neotree-mode-hook'."</span>
  <span style="color: #bc6ec5;">(</span>local-set-key <span style="color: #2d9574;">(</span>kbd <span style="color: #2d9574;">"j"</span><span style="color: #2d9574;">)</span> 'neotree-next-line<span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span>local-set-key <span style="color: #2d9574;">(</span>kbd <span style="color: #2d9574;">"k"</span><span style="color: #2d9574;">)</span> 'neotree-previous-line<span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span>local-set-key <span style="color: #2d9574;">(</span>kbd <span style="color: #2d9574;">"C-j"</span><span style="color: #2d9574;">)</span> 'neotree-change-root<span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span>local-set-key <span style="color: #2d9574;">(</span>kbd <span style="color: #2d9574;">"C-k"</span><span style="color: #2d9574;">)</span> 'neotree-select-up-node<span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span>define-key evil-normal-state-local-map <span style="color: #2d9574;">(</span>kbd <span style="color: #2d9574;">"q"</span><span style="color: #2d9574;">)</span> 'neotree-hide<span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span>define-key evil-normal-state-local-map <span style="color: #2d9574;">(</span>kbd <span style="color: #2d9574;">"g"</span><span style="color: #2d9574;">)</span> 'neotree-refresh<span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span>define-key evil-normal-state-local-map <span style="color: #2d9574;">(</span>kbd <span style="color: #2d9574;">"A"</span><span style="color: #2d9574;">)</span> 'neotree-stretch-toggle<span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span>define-key evil-normal-state-local-map <span style="color: #2d9574;">(</span>kbd <span style="color: #2d9574;">"H"</span><span style="color: #2d9574;">)</span> 'neotree-hidden-file-toggle<span style="color: #bc6ec5;">)</span>
  <span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">(</span>add-hook 'neotree-mode-hook 'my-neotree-mode-config<span style="color: #4f97d7;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4f97d7;">(</span>add-hook 'neotree-mode-hook <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">lambda</span> <span style="color: #2d9574;">()</span>
  <span style="color: #2d9574;">(</span>define-key evil-motion-state-local-map <span style="color: #67b11d;">(</span>kbd <span style="color: #2d9574;">"g"</span><span style="color: #67b11d;">)</span> 'neotree-refresh<span style="color: #2d9574;">)</span><span style="color: #bc6ec5;">)</span><span style="color: #4f97d7;">)</span>
</pre>
</div>
</div>
</div>


<div id="outline-container-orgc3ce10b" class="outline-2">
<h2 id="orgc3ce10b"><span class="section-number-2">12</span> Org</h2>
<div class="outline-text-2" id="text-12">
</div>
<div id="outline-container-org3d84c0f" class="outline-3">
<h3 id="org3d84c0f"><span class="section-number-3">12.1</span> Main</h3>
<div class="outline-text-3" id="text-12-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">org</span>

<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">require</span> '<span style="color: #a45bad;">org</span><span style="color: #4f97d7;">)</span>

<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">load shared .el followed by Emacs specific config</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;</span><span style="color: #2aa1ae; background-color: #292e34;">(load-file "~/.my-elips/org.el")</span>

<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">Make Org mode work with files ending in .org</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(add-to-list 'auto-mode-alist '("\\.org$" . org-mode))</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">The above is the default in recent emacs</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(setq truncate-lines 'nil)</span>

<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">defun</span> <span style="color: #bc6ec5; font-weight: bold;">my-org-mode-config</span> <span style="color: #bc6ec5;">()</span>
  <span style="color: #bc6ec5;">(</span>local-set-key <span style="color: #2d9574;">"\M-n"</span> 'outline-next-visible-heading<span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span>local-set-key <span style="color: #2d9574;">"\M-p"</span> 'outline-previous-visible-heading<span style="color: #bc6ec5;">)</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">table</span>
  <span style="color: #bc6ec5;">(</span>local-set-key <span style="color: #2d9574;">"\C-\M-w"</span> 'org-table-copy-region<span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span>local-set-key <span style="color: #2d9574;">"\C-\M-y"</span> 'org-table-paste-rectangle<span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span>local-set-key <span style="color: #2d9574;">"\C-\M-l"</span> 'org-table-sort-lines<span style="color: #bc6ec5;">)</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">display images</span>
  <span style="color: #bc6ec5;">(</span>local-set-key <span style="color: #2d9574;">"\M-I"</span> 'org-toggle-iimage-in-org<span style="color: #bc6ec5;">)</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">TODOlist</span>
  <span style="color: #bc6ec5;">(</span>local-set-key <span style="color: #2d9574;">(</span>kbd <span style="color: #2d9574;">"\C-c t"</span><span style="color: #2d9574;">)</span> 'org-todo<span style="color: #bc6ec5;">)</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">fix tab</span>
  <span style="color: #bc6ec5;">(</span>local-set-key <span style="color: #2d9574;">"\C-y"</span> 'yank<span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span>local-set-key <span style="color: #2d9574;">"\M-h"</span> 'windmove-left<span style="color: #bc6ec5;">)</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(local-set-key (kbd "C-c c") 'org-capture)</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(local-set-key (kbd "C-c a") 'org-agenda)</span>
  <span style="color: #bc6ec5;">(</span>local-set-key <span style="color: #2d9574;">"\C-cl"</span> 'grg-store-link<span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span>local-set-key <span style="color: #2d9574;">"\C-cb"</span> 'org-switchb<span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">setq-local</span> truncate-lines 'nil<span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span>auto-fill-mode<span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span>org-indent-mode<span style="color: #bc6ec5;">)</span>
  <span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">(</span>add-hook 'org-mode-hook 'my-org-mode-config<span style="color: #4f97d7;">)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">https://orgmode.org/manual/Conflicts.html</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">Make windmove work in Org mode:</span>
<span style="color: #4f97d7;">(</span>add-hook 'org-shiftup-final-hook 'windmove-up<span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">(</span>add-hook 'org-shiftleft-final-hook 'windmove-left<span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">(</span>add-hook 'org-shiftdown-final-hook 'windmove-down<span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">(</span>add-hook 'org-shiftright-final-hook 'windmove-right<span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">(</span>define-key org-mode-map <span style="color: #bc6ec5;">(</span>kbd <span style="color: #2d9574;">"M-h"</span><span style="color: #bc6ec5;">)</span> 'windmove-left<span style="color: #4f97d7;">)</span> <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">org conflicts</span>
<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> org-startup-folded nil<span style="color: #4f97d7;">)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">&lt;tab&gt; for 'indent-for-tab-command'</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(evil-define-key 'normal org-mode-map (kbd "SPC") #'org-cycle)</span>
<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">evil-define-key</span> 'insert org-mode-map <span style="color: #bc6ec5;">(</span>kbd <span style="color: #2d9574;">"C-t"</span><span style="color: #bc6ec5;">)</span> #'indent-for-tab-command<span style="color: #4f97d7;">)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">org compile python</span>
<span style="color: #4f97d7;">(</span>org-babel-do-load-languages
 'org-babel-load-languages
 '<span style="color: #bc6ec5;">(</span><span style="color: #2d9574;">(</span>python . t<span style="color: #2d9574;">)</span><span style="color: #bc6ec5;">)</span><span style="color: #4f97d7;">)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(setq word-wrap 'nil)</span>
<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> word-wrap 't<span style="color: #4f97d7;">)</span>

<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">; ;; org-agenda</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(use-package org-projectile</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;   </span><span style="color: #2aa1ae; background-color: #292e34;">:bind (("C-c n p" . org-projectile-project-todo-completing-read)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">    ;; ("C-c c" . org-capture)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">    ;; ("C-c a" . org-agenda)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">    )</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;   </span><span style="color: #2aa1ae; background-color: #292e34;">:config</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;   </span><span style="color: #2aa1ae; background-color: #292e34;">(progn</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;     </span><span style="color: #2aa1ae; background-color: #292e34;">(setq org-projectile-projects-file "~/Dropbox/orgfiles/tasks.org")</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;     </span><span style="color: #2aa1ae; background-color: #292e34;">(setq org-agenda-files (append org-agenda-files (org-projectile-todo-files)))</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;     </span><span style="color: #2aa1ae; background-color: #292e34;">(push (org-projectile-project-todo-entry) org-capture-templates))</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;   </span><span style="color: #2aa1ae; background-color: #292e34;">:ensure t)</span>

<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">require</span> '<span style="color: #a45bad;">org-mu4e</span><span style="color: #4f97d7;">)</span>

<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">require</span> '<span style="color: #a45bad;">org-bullets</span><span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">(</span>add-hook 'org-mode-hook <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">lambda</span> <span style="color: #2d9574;">()</span> <span style="color: #2d9574;">(</span>org-bullets-mode <span style="color: #a45bad;">1</span><span style="color: #2d9574;">)</span><span style="color: #bc6ec5;">)</span><span style="color: #4f97d7;">)</span>

<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">Exporting to LaTeX and PDF, formatting</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">http://pragmaticemacs.com/emacs/org-mode-basics-v-exporting-your-notes/</span>
<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">with-eval-after-load</span> 'ox-latex
  <span style="color: #bc6ec5;">(</span>add-to-list 'org-latex-classes
               '<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"bjmarticle"</span>
                 <span style="color: #2d9574;">"\\documentclass{article}</span>
<span style="color: #2d9574;">\\usepackage[utf8]{inputenc}</span>
<span style="color: #2d9574;">\\usepackage[T1]{fontenc}</span>
<span style="color: #2d9574;">\\usepackage{graphicx}</span>
<span style="color: #2d9574;">\\usepackage{longtable}</span>
<span style="color: #2d9574;">\\usepackage{hyperref}</span>
<span style="color: #2d9574;">\\usepackage{natbib}</span>
<span style="color: #2d9574;">\\usepackage{amssymb}</span>
<span style="color: #2d9574;">\\usepackage{amsmath}</span>
<span style="color: #2d9574;">\\usepackage{geometry}</span>
<span style="color: #2d9574;">\\geometry{a4paper,margin=0.5in,marginparsep=7pt, marginparwidth=.6in}"</span>
                 <span style="color: #67b11d;">(</span><span style="color: #2d9574;">"\\section{%s}"</span> . <span style="color: #2d9574;">"\\section*{%s}"</span><span style="color: #67b11d;">)</span>
                 <span style="color: #67b11d;">(</span><span style="color: #2d9574;">"\\subsection{%s}"</span> . <span style="color: #2d9574;">"\\subsection*{%s}"</span><span style="color: #67b11d;">)</span>
                 <span style="color: #67b11d;">(</span><span style="color: #2d9574;">"\\subsubsection{%s}"</span> . <span style="color: #2d9574;">"\\subsubsection*{%s}"</span><span style="color: #67b11d;">)</span>
                 <span style="color: #67b11d;">(</span><span style="color: #2d9574;">"\\paragraph{%s}"</span> . <span style="color: #2d9574;">"\\paragraph*{%s}"</span><span style="color: #67b11d;">)</span>
                 <span style="color: #67b11d;">(</span><span style="color: #2d9574;">"\\subparagraph{%s}"</span> . <span style="color: #2d9574;">"\\subparagraph*{%s}"</span><span style="color: #67b11d;">)</span><span style="color: #2d9574;">)</span><span style="color: #bc6ec5;">)</span><span style="color: #4f97d7;">)</span>
</pre>
</div>

<p>
Disable descriptive (hidden) links
<a href="https://emacs.stackexchange.com/questions/5387/show-org-mode-hyperlink-as-plain-text/5417">(Reference)</a>
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> org-descriptive-links nil<span style="color: #4f97d7;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgdd99b9a" class="outline-3">
<h3 id="orgdd99b9a"><span class="section-number-3">12.2</span> Org todo and agenda</h3>
<div class="outline-text-3" id="text-12-2">
</div>
<div id="outline-container-orgdb36df3" class="outline-4">
<h4 id="orgdb36df3"><span class="section-number-4">12.2.1</span> Basics:</h4>
<div class="outline-text-4" id="text-12-2-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4f97d7;">(</span>global-set-key <span style="color: #bc6ec5;">(</span>kbd <span style="color: #2d9574;">"C-c c"</span><span style="color: #bc6ec5;">)</span> 'org-capture<span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">(</span>global-set-key <span style="color: #bc6ec5;">(</span>kbd <span style="color: #2d9574;">"C-c a"</span><span style="color: #bc6ec5;">)</span> 'org-agenda<span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">evil-define-key</span> 'normal org-mode-map <span style="color: #bc6ec5;">(</span>kbd <span style="color: #2d9574;">"t"</span><span style="color: #bc6ec5;">)</span> 'org-todo<span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> org-image-actual-width nil<span style="color: #4f97d7;">)</span>

<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">with-eval-after-load</span> 'org
  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> org-agenda-files <span style="color: #2d9574;">"~/Dropbox/orgfiles/agenda.org"</span><span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> org-default-notes-file <span style="color: #2d9574;">"~/Dropbox/orgfiles/todos.org"</span><span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> org-agenda-confirm-kill t<span style="color: #bc6ec5;">)</span>

  <span style="color: #2aa1ae; background-color: #292e34;">;;</span><span style="color: #2aa1ae; background-color: #292e34;">open agenda in current window</span>
  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> org-agenda-window-setup <span style="color: #2d9574;">(</span><span style="color: #4f97d7; font-weight: bold;">quote</span> current-window<span style="color: #2d9574;">)</span><span style="color: #bc6ec5;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgaa10e46" class="outline-4">
<h4 id="orgaa10e46"><span class="section-number-4">12.2.2</span> Org capture</h4>
<div class="outline-text-4" id="text-12-2-2">
<p>
References: <a href="https://www.youtube.com/watch?v=KdcXu_RdKI0">https://www.youtube.com/watch?v=KdcXu_RdKI0</a>
</p>

<p>
Templates:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> org-capture-templates
      '<span style="color: #bc6ec5;">(</span><span style="color: #2d9574;">(</span><span style="color: #2d9574;">"t"</span>              <span style="color: #2aa1ae; background-color: #292e34;">; </span><span style="color: #2aa1ae; background-color: #292e34;">hotkey</span>
         <span style="color: #2d9574;">"Todo list item"</span> <span style="color: #2aa1ae; background-color: #292e34;">; </span><span style="color: #2aa1ae; background-color: #292e34;">name</span>
         entry            <span style="color: #2aa1ae; background-color: #292e34;">; </span><span style="color: #2aa1ae; background-color: #292e34;">type</span>
         <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">heading type and title</span>
         <span style="color: #67b11d;">(</span>file+heading org-default-notes-file <span style="color: #2d9574;">"Tasks"</span><span style="color: #67b11d;">)</span>
         <span style="color: #2d9574;">"* </span><span style="color: #cc9393;">TODO</span><span style="color: #2d9574;"> %?\n  %i\n  %a"</span><span style="color: #2d9574;">)</span>   <span style="color: #2aa1ae; background-color: #292e34;">; </span><span style="color: #2aa1ae; background-color: #292e34;">template</span>
        <span style="color: #bc6ec5;">)</span><span style="color: #4f97d7;">)</span>
</pre>
</div>

<p>
Generally, use <code>%u/U</code> (inactive timestamp, [time]) instead of <code>%t/T</code>
(active timestamp, &lt;time&gt;), because I don't want the creation of a
todo item in the agenda. Use <code>%a</code> for annotation.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> org-capture-templates
      '<span style="color: #bc6ec5;">(</span>
        <span style="color: #2d9574;">(</span><span style="color: #2d9574;">"t"</span> <span style="color: #2d9574;">"Todo (without links)"</span> entry <span style="color: #67b11d;">(</span>file+headline <span style="color: #2d9574;">""</span> <span style="color: #2d9574;">"Tasks"</span><span style="color: #67b11d;">)</span>
         <span style="color: #2d9574;">"* </span><span style="color: #cc9393;">TODO</span><span style="color: #2d9574;"> [#A] %?\n %U"</span> <span style="color: #4f97d7;">:empty-lines-before</span> <span style="color: #a45bad;">1</span><span style="color: #2d9574;">)</span>
        <span style="color: #2d9574;">(</span><span style="color: #2d9574;">"a"</span> <span style="color: #2d9574;">"Tasks (with links)"</span> entry <span style="color: #67b11d;">(</span>file+headline <span style="color: #2d9574;">""</span> <span style="color: #2d9574;">"Tasks"</span><span style="color: #67b11d;">)</span>
         <span style="color: #2d9574;">"* </span><span style="color: #cc9393;">TODO</span><span style="color: #2d9574;"> [#A] %?\n  %U\n  %a\n"</span> <span style="color: #4f97d7;">:empty-lines</span> <span style="color: #a45bad;">1</span><span style="color: #2d9574;">)</span>
        <span style="color: #2d9574;">(</span><span style="color: #2d9574;">"n"</span> <span style="color: #2d9574;">"Notes"</span> entry <span style="color: #67b11d;">(</span>file+headline <span style="color: #2d9574;">"~/Dropbox/orgfiles/notes.org"</span> <span style="color: #2d9574;">"Notes"</span><span style="color: #67b11d;">)</span>
         <span style="color: #2d9574;">"* %?\n  %U\n"</span> <span style="color: #4f97d7;">:empty-lines</span> <span style="color: #a45bad;">1</span><span style="color: #2d9574;">)</span>
        <span style="color: #2d9574;">(</span><span style="color: #2d9574;">"i"</span> <span style="color: #2d9574;">"Ideas"</span> entry <span style="color: #67b11d;">(</span>file+headline <span style="color: #2d9574;">"~/Dropbox/orgfiles/notes.org"</span> <span style="color: #2d9574;">"Ideas"</span><span style="color: #67b11d;">)</span>
         <span style="color: #2d9574;">"* %?\n  %u\n"</span> <span style="color: #4f97d7;">:empty-lines-before</span> <span style="color: #a45bad;">1</span><span style="color: #2d9574;">)</span>
        <span style="color: #2d9574;">(</span><span style="color: #2d9574;">"f"</span> <span style="color: #2d9574;">"Followup"</span> entry <span style="color: #67b11d;">(</span>file+headline <span style="color: #2d9574;">""</span> <span style="color: #2d9574;">"Followup (emails or tasks)"</span><span style="color: #67b11d;">)</span>
         <span style="color: #2d9574;">"* FLUP [#B] %?\n  %U\n  %a\n"</span> <span style="color: #4f97d7;">:empty-lines-before</span> <span style="color: #a45bad;">1</span><span style="color: #2d9574;">)</span>
        <span style="color: #2d9574;">(</span><span style="color: #2d9574;">"l"</span> <span style="color: #2d9574;">"Later"</span> entry <span style="color: #67b11d;">(</span>file+headline <span style="color: #2d9574;">""</span> <span style="color: #2d9574;">"Later (emails or tasks)"</span><span style="color: #67b11d;">)</span>
         <span style="color: #2d9574;">"* </span><span style="color: #cc9393;">TODO</span><span style="color: #2d9574;"> [#D] %?\n  %U\n  %a\n"</span> <span style="color: #4f97d7;">:empty-lines-before</span> <span style="color: #a45bad;">1</span><span style="color: #2d9574;">)</span>
        <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">("g" "General todo" entry (file+headline "/Users/chongchonghe/tasks.org" "Tasks")</span>
        <span style="color: #2aa1ae; background-color: #292e34;">;;  </span><span style="color: #2aa1ae; background-color: #292e34;">"* </span><span style="color: #cc9393;">TODO</span><span style="color: #2aa1ae; background-color: #292e34;"> [#B] %?\n %a" :empty-lines 1)</span>
        <span style="color: #bc6ec5;">)</span>
      <span style="color: #4f97d7;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org994372e" class="outline-4">
<h4 id="org994372e"><span class="section-number-4">12.2.3</span> Todo and Priority</h4>
<div class="outline-text-4" id="text-12-2-3">
<p>
To set the priority of the current headline, do <code>C-c ,</code>, or
<code>S-UP</code> / <code>S_DOWN</code>. 
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> org-default-priority ?A<span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> org-highest-priority ?A<span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> org-lowest-priority ?D<span style="color: #4f97d7;">)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;</span><span style="color: #2aa1ae; background-color: #292e34;">set colours for priorities</span>
<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> org-priority-faces '<span style="color: #bc6ec5;">(</span><span style="color: #2d9574;">(</span>?A . <span style="color: #67b11d;">(</span><span style="color: #4f97d7;">:foreground</span> <span style="color: #2d9574;">"#FF0000"</span> <span style="color: #4f97d7;">:weight</span> bold<span style="color: #67b11d;">)</span><span style="color: #2d9574;">)</span>
                           <span style="color: #2d9574;">(</span>?B . <span style="color: #67b11d;">(</span><span style="color: #4f97d7;">:foreground</span> <span style="color: #2d9574;">"#FFBF00"</span><span style="color: #67b11d;">)</span><span style="color: #2d9574;">)</span>
                           <span style="color: #2d9574;">(</span>?C . <span style="color: #67b11d;">(</span><span style="color: #4f97d7;">:foreground</span> <span style="color: #2d9574;">"#79DF46"</span><span style="color: #67b11d;">)</span><span style="color: #2d9574;">)</span>
                           <span style="color: #2d9574;">(</span>?D . <span style="color: #67b11d;">(</span><span style="color: #4f97d7;">:foreground</span> <span style="color: #2d9574;">"#00A2FF"</span><span style="color: #67b11d;">)</span><span style="color: #2d9574;">)</span><span style="color: #bc6ec5;">)</span><span style="color: #4f97d7;">)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;</span><span style="color: #2aa1ae; background-color: #292e34;">Different bullets</span>
<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> org-bullets-bullet-list '<span style="color: #bc6ec5;">(</span><span style="color: #2d9574;">"&#9899;"</span> <span style="color: #2d9574;">"&#9673;"</span> <span style="color: #2d9574;">"&#9670;"</span> <span style="color: #2d9574;">"&#9654;"</span> <span style="color: #2d9574;">"&#9671;"</span><span style="color: #bc6ec5;">)</span><span style="color: #4f97d7;">)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(setq org-todo-keywords</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;       </span><span style="color: #2aa1ae; background-color: #292e34;">'((sequence "</span><span style="color: #cc9393;">TODO</span><span style="color: #2aa1ae; background-color: #292e34;">" "</span><span style="color: #dca3a3;">NEXT</span><span style="color: #2aa1ae; background-color: #292e34;">" "DOING" "FOLLOWUP" "|" "</span><span style="color: #afd8af;">DONE</span><span style="color: #2aa1ae; background-color: #292e34;">" "CANCELLED")))</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(setq org-todo-keywords</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;       </span><span style="color: #2aa1ae; background-color: #292e34;">'((sequence "</span><span style="color: #cc9393;">TODO</span><span style="color: #2aa1ae; background-color: #292e34;">(t!)" "</span><span style="color: #dca3a3;">NEXT</span><span style="color: #2aa1ae; background-color: #292e34;">(n!)" "DOING(o!)" "FOLLOWUP(f!)" "|" "CANCELLED(c!)" "</span><span style="color: #afd8af;">DONE</span><span style="color: #2aa1ae; background-color: #292e34;">(d!)")))</span>
<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> org-todo-keywords
      '<span style="color: #bc6ec5;">(</span><span style="color: #2d9574;">(</span>sequence <span style="color: #2d9574;">"</span><span style="color: #cc9393;">TODO</span><span style="color: #2d9574;">(t!)"</span> <span style="color: #2d9574;">"</span><span style="color: #dca3a3;">NEXT</span><span style="color: #2d9574;">(n!)"</span> <span style="color: #2d9574;">"DOIN(o!)"</span> <span style="color: #2d9574;">"FLUP(f!)"</span> <span style="color: #2d9574;">"|"</span> <span style="color: #2d9574;">"CXLD(c!)"</span> <span style="color: #2d9574;">"</span><span style="color: #afd8af;">DONE</span><span style="color: #2d9574;">(d!)"</span><span style="color: #2d9574;">)</span><span style="color: #bc6ec5;">)</span><span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> org-todo-keyword-faces
      '<span style="color: #bc6ec5;">(</span><span style="color: #2d9574;">(</span><span style="color: #2d9574;">"</span><span style="color: #cc9393;">TODO</span><span style="color: #2d9574;">"</span> . org-warning<span style="color: #2d9574;">)</span>
        <span style="color: #2d9574;">(</span><span style="color: #2d9574;">"DOIN"</span> . <span style="color: #67b11d;">(</span><span style="color: #4f97d7;">:foreground</span> <span style="color: #2d9574;">"yellow"</span><span style="color: #67b11d;">)</span><span style="color: #2d9574;">)</span>
        <span style="color: #2d9574;">(</span><span style="color: #2d9574;">"FLUP"</span> . <span style="color: #67b11d;">(</span><span style="color: #4f97d7;">:foreground</span> <span style="color: #2d9574;">"magenta"</span><span style="color: #67b11d;">)</span><span style="color: #2d9574;">)</span>
        <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">("CANCELLED" . (:foreground "white" :background "#4d4d4d" :weight bold))</span>
        <span style="color: #2d9574;">(</span><span style="color: #2d9574;">"CXLD"</span> . <span style="color: #67b11d;">(</span><span style="color: #4f97d7;">:foreground</span> <span style="color: #2d9574;">"gray"</span><span style="color: #67b11d;">)</span><span style="color: #2d9574;">)</span>
        <span style="color: #2d9574;">(</span><span style="color: #2d9574;">"</span><span style="color: #dca3a3;">NEXT</span><span style="color: #2d9574;">"</span> . <span style="color: #2d9574;">"#008080"</span><span style="color: #2d9574;">)</span><span style="color: #bc6ec5;">)</span><span style="color: #4f97d7;">)</span>
<span style="color: #e0211d; text-decoration: overline;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org94828c6" class="outline-4">
<h4 id="org94828c6"><span class="section-number-4">12.2.4</span> Refile</h4>
<div class="outline-text-4" id="text-12-2-4">
<p>
Ref:
<a href="https://blog.aaronbieber.com/2017/03/19/organizing-notes-with-refile.html">https://blog.aaronbieber.com/2017/03/19/organizing-notes-with-refile.html</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> org-refile-targets '<span style="color: #bc6ec5;">(</span><span style="color: #2d9574;">(</span>org-agenda-files <span style="color: #4f97d7;">:maxlevel</span> . <span style="color: #a45bad;">2</span><span style="color: #2d9574;">)</span><span style="color: #bc6ec5;">)</span><span style="color: #4f97d7;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgc532cfe" class="outline-3">
<h3 id="orgc532cfe"><span class="section-number-3">12.3</span> org-ref</h3>
<div class="outline-text-3" id="text-12-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> reftex-default-bibliography '<span style="color: #bc6ec5;">(</span><span style="color: #2d9574;">"~/Academics/Bib/He-StarCluster.bib"</span><span style="color: #bc6ec5;">)</span><span style="color: #4f97d7;">)</span>

<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">see org-ref for use of these variables</span>
<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> org-ref-bibliography-notes <span style="color: #2d9574;">"~/Dropbox/bibliography/notes.org"</span>
      org-ref-default-bibliography '<span style="color: #bc6ec5;">(</span><span style="color: #2d9574;">"~/Academics/Bib/He-StarCluster.bib"</span><span style="color: #bc6ec5;">)</span>
      org-ref-pdf-directory <span style="color: #2d9574;">"~/Academics/papers/_org-ref/"</span><span style="color: #4f97d7;">)</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> bibtex-completion-bibliography <span style="color: #2d9574;">"~/Academics/Bib/He-StarCluster.bib"</span>
      bibtex-completion-library-path <span style="color: #2d9574;">"~/Academics/papers/_org-ref/"</span>
      bibtex-completion-notes-path <span style="color: #2d9574;">"~/Dropbox/orfiles/helm-bibtex-notes"</span><span style="color: #4f97d7;">)</span>

<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">open pdf with system pdf viewer (works on mac)</span>
<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> bibtex-completion-pdf-open-function
  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">lambda</span> <span style="color: #2d9574;">(</span>fpath<span style="color: #2d9574;">)</span>
    <span style="color: #2d9574;">(</span>start-process <span style="color: #2d9574;">"open"</span> <span style="color: #2d9574;">"*open*"</span> <span style="color: #2d9574;">"open"</span> fpath<span style="color: #2d9574;">)</span><span style="color: #bc6ec5;">)</span><span style="color: #4f97d7;">)</span>

<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">alternative</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(setq bibtex-completion-pdf-open-function 'org-open-file)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd8991d5" class="outline-3">
<h3 id="orgd8991d5"><span class="section-number-3">12.4</span> org export</h3>
<div class="outline-text-3" id="text-12-4">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> org-use-sub-superscripts '{}<span style="color: #4f97d7;">)</span>
</pre>
</div>
</div>

<div id="outline-container-org179f200" class="outline-4">
<h4 id="org179f200"><span class="section-number-4">12.4.1</span> Embed movie</h4>
<div class="outline-text-4" id="text-12-4-1">
<p>
Use org-links to embed local video. Adapted from this method:
<a href="http://endlessparentheses.com/embedding-youtube-videos-with-org-mode-links.html">http://endlessparentheses.com/embedding-youtube-videos-with-org-mode-links.html</a>
<code>[[mv:movie.mp4]]</code> will export a html5 video.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">defvar</span> <span style="color: #7590db;">mv-iframe-format</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">You may want to change your width and height.</span>
  <span style="color: #bc6ec5;">(</span>concat <span style="color: #2d9574;">"&lt;video"</span>
          <span style="color: #2d9574;">" height=\"500\""</span>
          <span style="color: #2d9574;">" style=\"display:block; margin: 0 auto;\" controls&gt;"</span>
          <span style="color: #2d9574;">" &lt;source"</span>
          <span style="color: #2d9574;">" src=\"%s\""</span>
          <span style="color: #2d9574;">" type=\"video/mp4\"&gt;"</span>
          <span style="color: #2d9574;">"&lt;/video&gt;"</span><span style="color: #bc6ec5;">)</span><span style="color: #4f97d7;">)</span>

<span style="color: #4f97d7;">(</span>org-add-link-type
 <span style="color: #2d9574;">"mv"</span>
 <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">lambda</span> <span style="color: #2d9574;">(</span>handle<span style="color: #2d9574;">)</span>
   <span style="color: #2d9574;">(</span>browse-url
    <span style="color: #67b11d;">(</span>concat <span style="color: #2d9574;">"https://www.youtube.com/embed/"</span>
            handle<span style="color: #67b11d;">)</span><span style="color: #2d9574;">)</span><span style="color: #bc6ec5;">)</span>
 <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">lambda</span> <span style="color: #2d9574;">(</span>path desc backend<span style="color: #2d9574;">)</span>
   <span style="color: #2d9574;">(</span><span style="color: #4f97d7; font-weight: bold;">cl-case</span> backend
     <span style="color: #67b11d;">(</span>html <span style="color: #b1951d;">(</span>format mv-iframe-format
                   path <span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">or</span> desc <span style="color: #2d9574;">""</span><span style="color: #4f97d7;">)</span><span style="color: #b1951d;">)</span><span style="color: #67b11d;">)</span>
     <span style="color: #67b11d;">(</span>latex <span style="color: #b1951d;">(</span>format <span style="color: #2d9574;">"</span><span style="color: #dc752f; background-color: #292b2e;">\</span><span style="color: #2d9574;">href{%s}{%s}"</span>
                    path <span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">or</span> desc <span style="color: #2d9574;">"video"</span><span style="color: #4f97d7;">)</span><span style="color: #b1951d;">)</span><span style="color: #67b11d;">)</span><span style="color: #2d9574;">)</span><span style="color: #bc6ec5;">)</span><span style="color: #4f97d7;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgea67cb9" class="outline-3">
<h3 id="orgea67cb9"><span class="section-number-3">12.5</span> Others</h3>
<div class="outline-text-3" id="text-12-5">
<p>
(Not working) Indent code in org babel src blocks: (from
<a href="https://stackoverflow.com/questions/15773354/indent-code-in-org-babel-src-blocks">https://stackoverflow.com/questions/15773354/indent-code-in-org-babel-src-blocks</a>)
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> org-src-tab-acts-natively t<span style="color: #4f97d7;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org927964f" class="outline-3">
<h3 id="org927964f"><span class="section-number-3">12.6</span> Publishing</h3>
<div class="outline-text-3" id="text-12-6">
<p>
Simple test:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> org-publish-project-alist
      '<span style="color: #bc6ec5;">(</span><span style="color: #2d9574;">(</span><span style="color: #2d9574;">"org"</span>
         <span style="color: #4f97d7;">:base-directory</span> <span style="color: #2d9574;">"~/Documents/org/"</span>
         <span style="color: #4f97d7;">:publishing-directory</span> <span style="color: #2d9574;">"~/Documents/publish/"</span>
         <span style="color: #4f97d7;">:section-numbers</span> nil
         <span style="color: #4f97d7;">:table-of-contents</span> nil
         <span style="color: #4f97d7;">:publishing-function</span> org-html-publish-to-html
         <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">:publishing-function 'org-publish-org-to-html</span>
         <span style="color: #4f97d7;">:style</span> <span style="color: #2d9574;">"&lt;link rel=\"stylesheet\"</span>
<span style="color: #2d9574;">                href=\"../style/style.css\"</span>
<span style="color: #2d9574;">                type=\"text/css\"/&gt;"</span><span style="color: #2d9574;">)</span><span style="color: #bc6ec5;">)</span><span style="color: #4f97d7;">)</span>
</pre>
</div>
</div>
</div>
</div>


<div id="outline-container-org6470323" class="outline-2">
<h2 id="org6470323"><span class="section-number-2">13</span> PDF-tool</h2>
<div class="outline-text-2" id="text-13">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">require</span> '<span style="color: #a45bad;">pdf-occur</span><span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">use-package</span> <span style="color: #a45bad;">pdf-tools</span>
  <span style="color: #4f97d7;">:ensure</span> t
  <span style="color: #4f97d7;">:mode</span> <span style="color: #bc6ec5;">(</span><span style="color: #2d9574;">"\\.pdf$"</span> . pdf-view-mode<span style="color: #bc6ec5;">)</span>
  <span style="color: #4f97d7;">:config</span>
  <span style="color: #bc6ec5;">(</span>pdf-tools-install<span style="color: #bc6ec5;">)</span>

  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">let</span> <span style="color: #2d9574;">(</span><span style="color: #67b11d;">(</span>foreground-orig <span style="color: #b1951d;">(</span>car pdf-view-midnight-colors<span style="color: #b1951d;">)</span><span style="color: #67b11d;">)</span><span style="color: #2d9574;">)</span>
    <span style="color: #2d9574;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> pdf-view-midnight-colors
          <span style="color: #67b11d;">(</span>cons <span style="color: #2d9574;">"white"</span> <span style="color: #2d9574;">"black"</span><span style="color: #67b11d;">)</span><span style="color: #2d9574;">)</span><span style="color: #bc6ec5;">)</span>

  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">with-eval-after-load</span> 'evil
    <span style="color: #2d9574;">(</span><span style="color: #4f97d7; font-weight: bold;">progn</span>
      <span style="color: #67b11d;">(</span>add-to-list 'evil-emacs-state-modes 'pdf-outline-buffer-mode<span style="color: #67b11d;">)</span>
      <span style="color: #67b11d;">(</span>add-to-list 'evil-emacs-state-modes 'pdf-view-mode<span style="color: #67b11d;">)</span><span style="color: #2d9574;">)</span><span style="color: #bc6ec5;">)</span><span style="color: #4f97d7;">)</span>

<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(define-key pdf-occur-global-minor-mode-map (kbd "RET") 'pdf-occur-goto-occurance)</span>

<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">use-package</span> <span style="color: #a45bad;">org-pdfview</span>
  <span style="color: #4f97d7;">:ensure</span> t<span style="color: #4f97d7;">)</span>
</pre>
</div>
</div>
</div>


<div id="outline-container-org4780d8c" class="outline-2">
<h2 id="org4780d8c"><span class="section-number-2">14</span> Shell</h2>
<div class="outline-text-2" id="text-14">
</div>
<div id="outline-container-org5563625" class="outline-3">
<h3 id="org5563625"><span class="section-number-3">14.1</span> ansi-term</h3>
<div class="outline-text-3" id="text-14-1">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">defun</span> <span style="color: #bc6ec5; font-weight: bold;">ansi-term-post</span> <span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">&amp;rest</span> _<span style="color: #bc6ec5;">)</span>
  <span style="color: #2aa1ae;">"configuration settings for ansi-term"</span>
  <span style="color: #bc6ec5;">(</span>evil-local-mode <span style="color: #a45bad;">-1</span><span style="color: #bc6ec5;">)</span><span style="color: #4f97d7;">)</span>
</pre>
</div>
</div>
</div>
</div>


<div id="outline-container-org05cfa96" class="outline-2">
<h2 id="org05cfa96"><span class="section-number-2">15</span> Helm</h2>
<div class="outline-text-2" id="text-15">
<p>
Ref: <a href="https://emacs-helm.github.io/helm/">https://emacs-helm.github.io/helm/</a>
</p>

<ul class="org-ul">
<li><a href="https://tuhdo.github.io/helm-intro.html">https://tuhdo.github.io/helm-intro.html</a> and <a href="https://www.sandeepnambiar.com/my-minimal-emacs-setup/">https://www.sandeepnambiar.com/my-minimal-emacs-setup/</a>
<ul class="org-ul">
<li>TODO: make this work</li>
</ul></li>
</ul>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">use-package</span> <span style="color: #a45bad;">helm</span>
  <span style="color: #4f97d7;">:ensure</span> t
  <span style="color: #4f97d7;">:bind</span>
  <span style="color: #bc6ec5;">(</span><span style="color: #2d9574;">"M-x"</span> . helm-M-x<span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span><span style="color: #2d9574;">"C-x C-f"</span> . helm-find-files<span style="color: #bc6ec5;">)</span>
  <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(global-set-key (kbd "M-x") 'helm-M-x)</span>
  <span style="color: #4f97d7;">:config</span>
  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">require</span> '<span style="color: #a45bad;">helm-config</span><span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span>helm-mode <span style="color: #a45bad;">1</span><span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> helm-split-window-inside-p t
        helm-move-to-line-cycle-in-source t<span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> helm-autoresize-max-height <span style="color: #a45bad;">0</span><span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">setq</span> helm-autoresize-min-height <span style="color: #a45bad;">20</span><span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span>helm-autoresize-mode <span style="color: #a45bad;">1</span><span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span>define-key helm-map <span style="color: #2d9574;">(</span>kbd <span style="color: #2d9574;">"&lt;tab&gt;"</span><span style="color: #2d9574;">)</span> 'helm-execute-persistent-action<span style="color: #bc6ec5;">)</span> <span style="color: #2aa1ae; background-color: #292e34;">; </span><span style="color: #2aa1ae; background-color: #292e34;">rebind tab to run persistent action</span>
  <span style="color: #bc6ec5;">(</span>define-key helm-map <span style="color: #2d9574;">(</span>kbd <span style="color: #2d9574;">"C-i"</span><span style="color: #2d9574;">)</span> 'helm-execute-persistent-action<span style="color: #bc6ec5;">)</span> <span style="color: #2aa1ae; background-color: #292e34;">; </span><span style="color: #2aa1ae; background-color: #292e34;">make TAB work in terminal</span>
  <span style="color: #bc6ec5;">(</span>define-key helm-map <span style="color: #2d9574;">(</span>kbd <span style="color: #2d9574;">"C-z"</span><span style="color: #2d9574;">)</span>  'helm-select-action<span style="color: #bc6ec5;">)</span> <span style="color: #2aa1ae; background-color: #292e34;">; </span><span style="color: #2aa1ae; background-color: #292e34;">list actions using C-z</span>

  <span style="color: #4f97d7;">)</span>
</pre>
</div>
</div>
</div>


<div id="outline-container-orgbad286c" class="outline-2">
<h2 id="orgbad286c"><span class="section-number-2">16</span> Theme</h2>
<div class="outline-text-2" id="text-16">
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(custom-set-variables</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;  </span><span style="color: #2aa1ae; background-color: #292e34;">;; custom-set-variables was added by Custom.</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;  </span><span style="color: #2aa1ae; background-color: #292e34;">;; If you edit it by hand, you could mess it up, so be careful.</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;  </span><span style="color: #2aa1ae; background-color: #292e34;">;; Your init file should contain only one such instance.</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;  </span><span style="color: #2aa1ae; background-color: #292e34;">;; If there is more than one, they won't work right.</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;  </span><span style="color: #2aa1ae; background-color: #292e34;">'(LaTeX-indent-environment-list</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;    </span><span style="color: #2aa1ae; background-color: #292e34;">(quote</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;     </span><span style="color: #2aa1ae; background-color: #292e34;">(("verbatim" current-indentation)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;      </span><span style="color: #2aa1ae; background-color: #292e34;">("verbatim*" current-indentation)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;      </span><span style="color: #2aa1ae; background-color: #292e34;">("tabular")</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;      </span><span style="color: #2aa1ae; background-color: #292e34;">("tabular*")</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;      </span><span style="color: #2aa1ae; background-color: #292e34;">("align")</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;      </span><span style="color: #2aa1ae; background-color: #292e34;">("align*")</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;      </span><span style="color: #2aa1ae; background-color: #292e34;">("array")</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;      </span><span style="color: #2aa1ae; background-color: #292e34;">("eqnarray")</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;      </span><span style="color: #2aa1ae; background-color: #292e34;">("eqnarray*")</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;      </span><span style="color: #2aa1ae; background-color: #292e34;">("displaymath")</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;      </span><span style="color: #2aa1ae; background-color: #292e34;">("equation")</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;      </span><span style="color: #2aa1ae; background-color: #292e34;">("equation*")</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;      </span><span style="color: #2aa1ae; background-color: #292e34;">("picture")</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;      </span><span style="color: #2aa1ae; background-color: #292e34;">("tabbing"))))</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;  </span><span style="color: #2aa1ae; background-color: #292e34;">'(TeX-source-correlate-method (quote synctex))</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;  </span><span style="color: #2aa1ae; background-color: #292e34;">'(TeX-source-correlate-mode t)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;  </span><span style="color: #2aa1ae; background-color: #292e34;">'(auto-insert (quote other))</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;  </span><span style="color: #2aa1ae; background-color: #292e34;">;; '(auto-insert-alist (quote nil))</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;  </span><span style="color: #2aa1ae; background-color: #292e34;">'(custom-safe-themes</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;    </span><span style="color: #2aa1ae; background-color: #292e34;">(quote</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;     </span><span style="color: #2aa1ae; background-color: #292e34;">("d677ef584c6dfc0697901a44b885cc18e206f05114c8a3b7fde674fce6180879" default)))</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;  </span><span style="color: #2aa1ae; background-color: #292e34;">'(org-startup-truncated nil)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;  </span><span style="color: #2aa1ae; background-color: #292e34;">'(package-selected-packages</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;    </span><span style="color: #2aa1ae; background-color: #292e34;">(quote</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;     </span><span style="color: #2aa1ae; background-color: #292e34;">(org gruvbox-theme magit mu4e-alert helm solarized-theme htmlize ein jedi key-chord popwin yasnippet goto-last-change evil auctex evil-visual-mark-mode markdown-mode flycheck neotree elpy)))</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;  </span><span style="color: #2aa1ae; background-color: #292e34;">'(send-mail-function (quote mailclient-send-it)))</span>

<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(custom-set-variables</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;  </span><span style="color: #2aa1ae; background-color: #292e34;">;; custom-set-variables was added by Custom.</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;  </span><span style="color: #2aa1ae; background-color: #292e34;">;; If you edit it by hand, you could mess it up, so be careful.</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;  </span><span style="color: #2aa1ae; background-color: #292e34;">;; Your init file should contain only one such instance.</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;  </span><span style="color: #2aa1ae; background-color: #292e34;">;; If there is more than one, they won't work right.</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;  </span><span style="color: #2aa1ae; background-color: #292e34;">'(TeX-source-correlate-method (quote synctex))</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;  </span><span style="color: #2aa1ae; background-color: #292e34;">'(TeX-source-correlate-mode t)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;  </span><span style="color: #2aa1ae; background-color: #292e34;">'(auto-insert (quote other))</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;  </span><span style="color: #2aa1ae; background-color: #292e34;">'(auto-insert-alist (quote nil))</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;  </span><span style="color: #2aa1ae; background-color: #292e34;">'(auto-insert-directory "~/.emacs.d/snippets/auto_insert")</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;  </span><span style="color: #2aa1ae; background-color: #292e34;">'(custom-safe-themes</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;    </span><span style="color: #2aa1ae; background-color: #292e34;">(quote</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;     </span><span style="color: #2aa1ae; background-color: #292e34;">("d677ef584c6dfc0697901a44b885cc18e206f05114c8a3b7fde674fce6180879" default)))</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;  </span><span style="color: #2aa1ae; background-color: #292e34;">'(org-startup-truncated nil)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;  </span><span style="color: #2aa1ae; background-color: #292e34;">'(package-selected-packages</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;    </span><span style="color: #2aa1ae; background-color: #292e34;">(quote</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;     </span><span style="color: #2aa1ae; background-color: #292e34;">(solarized-theme htmlize ein jedi key-chord popwin yasnippet goto-last-change evil auctex evil-visual-mark-mode markdown-mode flycheck neotree elpy)))</span>
<span style="color: #2aa1ae; background-color: #292e34;">;;  </span><span style="color: #2aa1ae; background-color: #292e34;">'(send-mail-function (quote mailclient-send-it)))</span>

<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">;; Auto insert mode</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(require 'autoinsert)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(auto-insert-mode)</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(setq auto-insert-directory "~/.emacs.d/snippets/auto_insert")</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">;; (setq auto-insert-query nil) ;;; If you don't want to be prompted before insertion</span>
<span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">(define-auto-insert "\.py" "template.py")</span>

<span style="color: #4f97d7;">(</span>custom-set-variables
 <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">custom-set-variables was added by Custom.</span>
 <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">If you edit it by hand, you could mess it up, so be careful.</span>
 <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">Your init file should contain only one such instance.</span>
 <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">If there is more than one, they won't work right.</span>
 '<span style="color: #bc6ec5;">(</span>LaTeX-indent-environment-list
   <span style="color: #2d9574;">(</span><span style="color: #4f97d7; font-weight: bold;">quote</span>
    <span style="color: #67b11d;">(</span><span style="color: #b1951d;">(</span><span style="color: #2d9574;">"verbatim"</span> current-indentation<span style="color: #b1951d;">)</span>
     <span style="color: #b1951d;">(</span><span style="color: #2d9574;">"verbatim*"</span> current-indentation<span style="color: #b1951d;">)</span>
     <span style="color: #b1951d;">(</span><span style="color: #2d9574;">"tabular"</span><span style="color: #b1951d;">)</span>
     <span style="color: #b1951d;">(</span><span style="color: #2d9574;">"tabular*"</span><span style="color: #b1951d;">)</span>
     <span style="color: #b1951d;">(</span><span style="color: #2d9574;">"align"</span><span style="color: #b1951d;">)</span>
     <span style="color: #b1951d;">(</span><span style="color: #2d9574;">"align*"</span><span style="color: #b1951d;">)</span>
     <span style="color: #b1951d;">(</span><span style="color: #2d9574;">"array"</span><span style="color: #b1951d;">)</span>
     <span style="color: #b1951d;">(</span><span style="color: #2d9574;">"eqnarray"</span><span style="color: #b1951d;">)</span>
     <span style="color: #b1951d;">(</span><span style="color: #2d9574;">"eqnarray*"</span><span style="color: #b1951d;">)</span>
     <span style="color: #b1951d;">(</span><span style="color: #2d9574;">"displaymath"</span><span style="color: #b1951d;">)</span>
     <span style="color: #b1951d;">(</span><span style="color: #2d9574;">"equation"</span><span style="color: #b1951d;">)</span>
     <span style="color: #b1951d;">(</span><span style="color: #2d9574;">"equation*"</span><span style="color: #b1951d;">)</span>
     <span style="color: #b1951d;">(</span><span style="color: #2d9574;">"picture"</span><span style="color: #b1951d;">)</span>
     <span style="color: #b1951d;">(</span><span style="color: #2d9574;">"tabbing"</span><span style="color: #b1951d;">)</span><span style="color: #67b11d;">)</span><span style="color: #2d9574;">)</span><span style="color: #bc6ec5;">)</span>
 '<span style="color: #bc6ec5;">(</span>TeX-source-correlate-method <span style="color: #2d9574;">(</span><span style="color: #4f97d7; font-weight: bold;">quote</span> synctex<span style="color: #2d9574;">)</span><span style="color: #bc6ec5;">)</span>
 '<span style="color: #bc6ec5;">(</span>TeX-source-correlate-mode t<span style="color: #bc6ec5;">)</span>
 '<span style="color: #bc6ec5;">(</span>custom-safe-themes
   <span style="color: #2d9574;">(</span><span style="color: #4f97d7; font-weight: bold;">quote</span>
    <span style="color: #67b11d;">(</span><span style="color: #2d9574;">"d677ef584c6dfc0697901a44b885cc18e206f05114c8a3b7fde674fce6180879"</span> default<span style="color: #67b11d;">)</span><span style="color: #2d9574;">)</span><span style="color: #bc6ec5;">)</span>
 '<span style="color: #bc6ec5;">(</span>org-export-backends <span style="color: #2d9574;">(</span><span style="color: #4f97d7; font-weight: bold;">quote</span> <span style="color: #67b11d;">(</span>ascii beamer html icalendar latex man md odt<span style="color: #67b11d;">)</span><span style="color: #2d9574;">)</span><span style="color: #bc6ec5;">)</span>
 '<span style="color: #bc6ec5;">(</span>org-startup-truncated nil<span style="color: #bc6ec5;">)</span>
 '<span style="color: #bc6ec5;">(</span>package-selected-packages
   <span style="color: #2d9574;">(</span><span style="color: #4f97d7; font-weight: bold;">quote</span>
    <span style="color: #67b11d;">(</span>langtool mu4e-maildirs-extension vimrc-mode julia-mode org gruvbox-theme magit mu4e-alert helm solarized-theme htmlize ein jedi key-chord popwin yasnippet goto-last-change evil auctex evil-visual-mark-mode markdown-mode flycheck neotree elpy<span style="color: #67b11d;">)</span><span style="color: #2d9574;">)</span><span style="color: #bc6ec5;">)</span>
 '<span style="color: #bc6ec5;">(</span>send-mail-function <span style="color: #2d9574;">(</span><span style="color: #4f97d7; font-weight: bold;">quote</span> mailclient-send-it<span style="color: #2d9574;">)</span><span style="color: #bc6ec5;">)</span><span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">(</span>custom-set-faces
 <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">custom-set-faces was added by Custom.</span>
 <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">If you edit it by hand, you could mess it up, so be careful.</span>
 <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">Your init file should contain only one such instance.</span>
 <span style="color: #2aa1ae; background-color: #292e34;">;; </span><span style="color: #2aa1ae; background-color: #292e34;">If there is more than one, they won't work right.</span>
 <span style="color: #4f97d7;">)</span>
</pre>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Chong-Chong He</p>
<p class="date">Created: 2020-08-20 Thu 11:37</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
